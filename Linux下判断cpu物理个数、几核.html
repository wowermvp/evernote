<html>
<head>
  <title>Linux下判断cpu物理个数、几核</title>
  <basefont face="宋体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 宋体;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1348"/>
<h1>Linux下判断cpu物理个数、几核</h1>

<div>
<span><br/><div style="background-image: url(file:///image/skin/30/bg.jpg); background-position: initial initial; background-repeat: initial initial;"><div style="overflow:hidden;"><div style="background:rgb(255, 255, 255);margin-top:5px;"><div style="margin:0 0 10px;"><div style="padding:0px;margin:5px 12px 0px;height:60px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(204, 204, 204);"><div style="margin:0px;padding:20px 0px 0px;overflow:hidden;text-align:center;"><div style="padding:0px;margin:0px;font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:20px;font-family:宋体;"><div><span style="color: rgb(85, 85, 85);">Linux下判断cpu物理个数、几核</span></div></div></div><div><span style="font-size: 12px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"><br/></span></span></span></div></div><div style="padding: 0px; margin: 20px 15px 8px; border-bottom-width: 1px; border-bottom-style: dashed; border-bottom-color: rgb(217, 217, 217); word-wrap: break-word; word-break: normal;"><p style="padding:0px;margin:0px;padding-bottom:0px;clear:both;height:auto;overflow:hidden;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">自己服务器的输出 </span></span></span></p><p style="padding:0px;margin:0px;padding-bottom:0px;clear:both;height:auto;overflow:hidden;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">1. 查看物理CPU的个数</span></span></span></p><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">#cat /proc/cpuinfo |grep &quot;physical id&quot;|sort |uniq|wc -l</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">2. 查看逻辑CPU的个数</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">#cat /proc/cpuinfo |grep &quot;processor&quot;|wc -l</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> 8</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">3. 查看CPU是几核</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">#cat /proc/cpuinfo |grep &quot;cores&quot;|uniq</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> cpu cores : 4</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">4. 查看CPU的主频</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">#cat /proc/cpuinfo |grep MHz|uniq</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> cpu MHz  : 1600.000</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># uname -a</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">Linux 54acm 2.6.32-25-generic-pae #44-Ubuntu SMP Fri Sep 17 21:57:48 UTC 2010 i686 GNU/Linux</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">(查看当前操作系统内核信息)</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /etc/issue </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">Ubuntu 10.04 LTS</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">(查看当前操作系统发行版信息)</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">       8  Intel(R) Xeon(R) CPU           E5620  @ 2.40GHz</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">(看到有8个逻辑CPU, 也知道了CPU型号)</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /proc/cpuinfo | grep physical | uniq -c</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 physical id : 1</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">      1 address sizes : 40 bits physical, 48 bits virtual</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">(说明实际上是两颗4核的CPU)</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># getconf LONG_BIT</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">32</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">(说明当前CPU运行在32bit模式下, 但不代表CPU不支持64bit)</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /proc/cpuinfo | grep flags | grep ' lm ' | wc -l</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">8</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">(结果大于0, 说明支持64bit计算. lm指long mode, 支持lm则是64bit)</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">如何获得CPU的详细信息：</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">linux命令：cat /proc/cpuinfo</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">用命令判断几个物理CPU，几个核等：</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">逻辑CPU个数：</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /proc/cpuinfo | grep &quot;processor&quot; | wc -l</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">物理CPU个数：</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /proc/cpuinfo | grep &quot;physical id&quot; | sort | uniq | wc -l</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">每个物理CPU中Core的个数：</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /proc/cpuinfo | grep &quot;cpu cores&quot; | wc -l</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">是否为超线程？</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">如果有两个逻辑CPU具有相同的”core id”，那么超线程是打开的。</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">每个物理CPU中逻辑CPU(可能是core, threads或both)的个数：</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"># cat /proc/cpuinfo | grep &quot;siblings&quot;</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">siblings : 8</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">1.查看CPU信息命令</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">cat /proc/cpuinfo</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">2.查看内存信息命令</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">cat /proc/meminfo</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">3.查看硬盘信息命令</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);">fdisk -l</span></span></span></div><div style="padding:0px;margin:0px;"><span style="font-size: 14px;"><span style="font-family: 宋体, 'Arial Narrow', arial, serif;"><span style="color: rgb(85, 85, 85);"> </span></span></span></div></div></div></div></div></div></span>
</div></body></html> 