<html>
<head>
  <title>Prometheus</title>
  <basefont face="宋体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 宋体;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2203"/>
<h1>Prometheus</h1>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h1 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000; margin-top: 14px;">Prometheus</h1>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">Prometheus总览</h2>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Prometheus是一个开源监控系统，它前身是SoundCloudr的告警工具包。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">主要特性</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">多维度数据模型</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">灵活的查询语言</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">不依赖任何分布式存储</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">常见方式是通过拉取方式采集数据</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">也可通过中间网关支持推送方式采集数据</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">通过服务发现或者静态配置来发现监控目标</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">支持多种图形界面展示方式</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">架构</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">下面这张图描述了Prometheus的整体架构，以及其生态中的一些常用组件。<br/>
<img src="Prometheus_files/prometheus.png" type="image/png" data-filename="prometheus.png"/></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Prometheus Server采用拉取方式从监控目标直接拉取数据，或者通过中间网关间接地拉取监控目标推送网关的数据。它在本地抓取的数据，通过一定规则进行清理和整理数据，然后把得到的结果存储起来。各自Web UI使用PromQL查询语言来从Server里获取数据。当Server监测到有异常时会推送告警给Alertmanager，Alertmanager负责去通知相关人。</p>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">Prometheus核心概念</h2>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">数据模型</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Prometheus从根本上存储的所有数据都是时间序列数据（Time Serie Data，简称时序数据）。时序数据是具有时间戳的数据流，该数据流属于某个度量指标（Metric）和该度量指标下的多个标签（Label）。除了提供存储功能，Prometheus还可以利用查询表达式来执行非常灵活和复杂的查询。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">度量指标和标签</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">每个时间序列（Time Serie，简称时序）由y度量指标和一组标签键值对唯一确定。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">度量指标名称描述了被监控系统的某个测量特征（比如http_request_total表示http请求总数）。度量指标名称由ASCII字母、数字、下划线和冒号组成，须匹配正则表达式[a-zA-Z_:][a-zA-Z0-9_:]*。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">标签开启了Prometheus的多维数据模型。对于同一个度量指标，不同标签值组合会形成特定维度的时序。Prometheus的查询语言可以通过度量指标和标签对时序数据进行过滤和聚合。改变任何试题指标上的任何标签值，都会形成新的时序。标签名称可以包含ASCII字母、数字和下划线，须匹配正则表达式[a-zA-Z_][a-zA-Z0-9_]*，带有_下划线的标签名称保留为内部使用。标签值可以包含任意Unicode字符，包括中文。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">采样值（Sample）</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">时序数据其实就是一系列的采样值。每个采样值包括：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">一个64位的浮点数值</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">一个精确到毫秒的时间戳</li>
</ul>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">注解（Notation）</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">一个注解由一个度量指标和一组标签键值对构成。形式如下：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">[metric name]{[label name]=[label value], ...}
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">例如，度量指标为api_http_requests_total，标签为method=&quot;POST&quot;、handler=&quot;/messages&quot;的注解表示如下：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">api_http_requests_total{method=&quot;POST&quot;, handler=&quot;/messages&quot;}
</code></pre>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">度量指标类型</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">Prometheus里的试题指标有以下几种类型。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">计数器（Counter）</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">计数器是一种累计型的度量指标，它是一个只能递增的数值。计数器主要用于统计类似于服务请求数、任务完成数和错误出现次数这样的数据。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">计量器（Gauge）</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">计量器表示一个既可以增加，又可以减少的度量指标值。计量器主要用于测量类似于温度、内存使用量这样的瞬时数据。</p>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">直方图（Histogram）</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">直方图对观察结果（通常是请求持续时间或者响应大小这样的数据）进行采样，并在可配置的桶中对其进行统计。有以下几种方式来产生直方图（假设度量指标为&lt;basename&gt;）：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">按桶计数，相当于&lt;basename&gt;_bucket{le=&quot;&lt;upper inclusive bound&gt;&quot;}</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">采值总和，相当于&lt;basename&gt;_sum</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">采样值总数，相当于&lt;basename&gt;_count，也等同于把所有采样值放到一个桶里来计数&lt;basename&gt;_bucket{le=&quot;+Inf&quot;}</li>
</ul>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">汇总（Summary）</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">类似于直方图，汇总也对观察结果进行采样。除了可以统计采样值总和和总数，它还能够按分位数统计。有以下几种方式来产生汇总（假设度量指标为&lt;basename&gt;）：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">按分位数，也就是采样值小于该分位数的个数占总数的比例小于φ，相当于&lt;basename&gt;{quantile=&quot;&lt;φ&gt;&quot;}</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">采样值总和，相当于&lt;basename&gt;_sum</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">采样值总数，相当于&lt;basename&gt;_count</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">任务（Job）和实例（Instance）</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">在Prometheus里，可以从中抓取采样值的端点称为实例，为了性能扩展而复制出来的多个这样的实例形成了一个任务。<br/>
例如下面的api-server任务有四个相同的实例：<br/>
<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">job: api-server instance 1: 1.2.3.4:5670 instance 2: 1.2.3.4:5671 instance 3: 1.2.3.4:5670 instance 4: 1.2.3.4:5671</code><br/>
Prometheus抓取完采样值后，会自动给采样值添加下面的标签和值：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">job：抓取所属任务。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">instance：抓取来源实例<br/>
另外每次抓取时，Prometheus还会自动在以下时序里插入采样值：</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">up{job=&quot;[job-name]&quot;, instance=&quot;instance-id&quot;}：采样值为1表示实例健康，否则为不健康</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">scrape_duration_seconds{job=&quot;[job-name]&quot;, instance=&quot;[instance-id]&quot;}：采样值为本次抓取消耗时间</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">scrape_samples_post_metric_relabeling{job=&quot;&lt;job-name&gt;&quot;, instance=&quot;&lt;instance-id&gt;&quot;}：采样值为重新打标签后的采样值个数</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">scrape_sample_scraped{job=&quot;&lt;job-name&gt;&quot;, instance=&quot;&lt;instance-id&gt;&quot;}：采样值为本次抓取到的采样值个数</li>
</ul>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%20Prometheus%0A%23%23%20Prometheus%E6%80%BB%E8%A7%88%0APrometheus%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%80%E6%BA%90%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%AE%83%E5%89%8D%E8%BA%AB%E6%98%AFSoundCloudr%E7%9A%84%E5%91%8A%E8%AD%A6%E5%B7%A5%E5%85%B7%E5%8C%85%E3%80%82%0A%0A%23%23%23%20%E4%B8%BB%E8%A6%81%E7%89%B9%E6%80%A7%0A*%20%E5%A4%9A%E7%BB%B4%E5%BA%A6%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%0A*%20%E7%81%B5%E6%B4%BB%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%0A*%20%E4%B8%8D%E4%BE%9D%E8%B5%96%E4%BB%BB%E4%BD%95%E5%88%86%E5%B8%83%E5%BC%8F%E5%AD%98%E5%82%A8%0A*%20%E5%B8%B8%E8%A7%81%E6%96%B9%E5%BC%8F%E6%98%AF%E9%80%9A%E8%BF%87%E6%8B%89%E5%8F%96%E6%96%B9%E5%BC%8F%E9%87%87%E9%9B%86%E6%95%B0%E6%8D%AE%0A*%20%E4%B9%9F%E5%8F%AF%E9%80%9A%E8%BF%87%E4%B8%AD%E9%97%B4%E7%BD%91%E5%85%B3%E6%94%AF%E6%8C%81%E6%8E%A8%E9%80%81%E6%96%B9%E5%BC%8F%E9%87%87%E9%9B%86%E6%95%B0%E6%8D%AE%0A*%20%E9%80%9A%E8%BF%87%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E6%88%96%E8%80%85%E9%9D%99%E6%80%81%E9%85%8D%E7%BD%AE%E6%9D%A5%E5%8F%91%E7%8E%B0%E7%9B%91%E6%8E%A7%E7%9B%AE%E6%A0%87%0A*%20%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E5%B1%95%E7%A4%BA%E6%96%B9%E5%BC%8F%0A%0A%23%23%23%20%E6%9E%B6%E6%9E%84%0A%E4%B8%8B%E9%9D%A2%E8%BF%99%E5%BC%A0%E5%9B%BE%E6%8F%8F%E8%BF%B0%E4%BA%86Prometheus%E7%9A%84%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%85%B6%E7%94%9F%E6%80%81%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E3%80%82%0A!%5B5c63c6f30320b93e0573254d739b3968.png%5D(en-resource%3A%2F%2Fdatabase%2F2205%3A0)%0A%0APrometheus%20Server%E9%87%87%E7%94%A8%E6%8B%89%E5%8F%96%E6%96%B9%E5%BC%8F%E4%BB%8E%E7%9B%91%E6%8E%A7%E7%9B%AE%E6%A0%87%E7%9B%B4%E6%8E%A5%E6%8B%89%E5%8F%96%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%88%96%E8%80%85%E9%80%9A%E8%BF%87%E4%B8%AD%E9%97%B4%E7%BD%91%E5%85%B3%E9%97%B4%E6%8E%A5%E5%9C%B0%E6%8B%89%E5%8F%96%E7%9B%91%E6%8E%A7%E7%9B%AE%E6%A0%87%E6%8E%A8%E9%80%81%E7%BD%91%E5%85%B3%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82%E5%AE%83%E5%9C%A8%E6%9C%AC%E5%9C%B0%E6%8A%93%E5%8F%96%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%80%9A%E8%BF%87%E4%B8%80%E5%AE%9A%E8%A7%84%E5%88%99%E8%BF%9B%E8%A1%8C%E6%B8%85%E7%90%86%E5%92%8C%E6%95%B4%E7%90%86%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%84%B6%E5%90%8E%E6%8A%8A%E5%BE%97%E5%88%B0%E7%9A%84%E7%BB%93%E6%9E%9C%E5%AD%98%E5%82%A8%E8%B5%B7%E6%9D%A5%E3%80%82%E5%90%84%E8%87%AAWeb%20UI%E4%BD%BF%E7%94%A8PromQL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%E6%9D%A5%E4%BB%8EServer%E9%87%8C%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E3%80%82%E5%BD%93Server%E7%9B%91%E6%B5%8B%E5%88%B0%E6%9C%89%E5%BC%82%E5%B8%B8%E6%97%B6%E4%BC%9A%E6%8E%A8%E9%80%81%E5%91%8A%E8%AD%A6%E7%BB%99Alertmanager%EF%BC%8CAlertmanager%E8%B4%9F%E8%B4%A3%E5%8E%BB%E9%80%9A%E7%9F%A5%E7%9B%B8%E5%85%B3%E4%BA%BA%E3%80%82%0A%0A%23%23%20Prometheus%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%0A%23%23%23%20%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%0APrometheus%E4%BB%8E%E6%A0%B9%E6%9C%AC%E4%B8%8A%E5%AD%98%E5%82%A8%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E9%83%BD%E6%98%AF%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E6%95%B0%E6%8D%AE%EF%BC%88Time%20Serie%20Data%EF%BC%8C%E7%AE%80%E7%A7%B0%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%EF%BC%89%E3%80%82%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E6%98%AF%E5%85%B7%E6%9C%89%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84%E6%95%B0%E6%8D%AE%E6%B5%81%EF%BC%8C%E8%AF%A5%E6%95%B0%E6%8D%AE%E6%B5%81%E5%B1%9E%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%EF%BC%88Metric%EF%BC%89%E5%92%8C%E8%AF%A5%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E4%B8%8B%E7%9A%84%E5%A4%9A%E4%B8%AA%E6%A0%87%E7%AD%BE%EF%BC%88Label%EF%BC%89%E3%80%82%E9%99%A4%E4%BA%86%E6%8F%90%E4%BE%9B%E5%AD%98%E5%82%A8%E5%8A%9F%E8%83%BD%EF%BC%8CPrometheus%E8%BF%98%E5%8F%AF%E4%BB%A5%E5%88%A9%E7%94%A8%E6%9F%A5%E8%AF%A2%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9D%A5%E6%89%A7%E8%A1%8C%E9%9D%9E%E5%B8%B8%E7%81%B5%E6%B4%BB%E5%92%8C%E5%A4%8D%E6%9D%82%E7%9A%84%E6%9F%A5%E8%AF%A2%E3%80%82%0A%23%23%23%23%20%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E5%92%8C%E6%A0%87%E7%AD%BE%0A%E6%AF%8F%E4%B8%AA%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%EF%BC%88Time%20Serie%EF%BC%8C%E7%AE%80%E7%A7%B0%E6%97%B6%E5%BA%8F%EF%BC%89%E7%94%B1y%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E5%92%8C%E4%B8%80%E7%BB%84%E6%A0%87%E7%AD%BE%E9%94%AE%E5%80%BC%E5%AF%B9%E5%94%AF%E4%B8%80%E7%A1%AE%E5%AE%9A%E3%80%82%0A%0A%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E5%90%8D%E7%A7%B0%E6%8F%8F%E8%BF%B0%E4%BA%86%E8%A2%AB%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9F%90%E4%B8%AA%E6%B5%8B%E9%87%8F%E7%89%B9%E5%BE%81%EF%BC%88%E6%AF%94%E5%A6%82http_request_total%E8%A1%A8%E7%A4%BAhttp%E8%AF%B7%E6%B1%82%E6%80%BB%E6%95%B0%EF%BC%89%E3%80%82%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E5%90%8D%E7%A7%B0%E7%94%B1ASCII%E5%AD%97%E6%AF%8D%E3%80%81%E6%95%B0%E5%AD%97%E3%80%81%E4%B8%8B%E5%88%92%E7%BA%BF%E5%92%8C%E5%86%92%E5%8F%B7%E7%BB%84%E6%88%90%EF%BC%8C%E9%A1%BB%E5%8C%B9%E9%85%8D%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%5Ba-zA-Z_%3A%5D%5Ba-zA-Z0-9_%3A%5D%5C*%E3%80%82%0A%0A%E6%A0%87%E7%AD%BE%E5%BC%80%E5%90%AF%E4%BA%86Prometheus%E7%9A%84%E5%A4%9A%E7%BB%B4%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E3%80%82%E5%AF%B9%E4%BA%8E%E5%90%8C%E4%B8%80%E4%B8%AA%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%EF%BC%8C%E4%B8%8D%E5%90%8C%E6%A0%87%E7%AD%BE%E5%80%BC%E7%BB%84%E5%90%88%E4%BC%9A%E5%BD%A2%E6%88%90%E7%89%B9%E5%AE%9A%E7%BB%B4%E5%BA%A6%E7%9A%84%E6%97%B6%E5%BA%8F%E3%80%82Prometheus%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E5%92%8C%E6%A0%87%E7%AD%BE%E5%AF%B9%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4%E5%92%8C%E8%81%9A%E5%90%88%E3%80%82%E6%94%B9%E5%8F%98%E4%BB%BB%E4%BD%95%E8%AF%95%E9%A2%98%E6%8C%87%E6%A0%87%E4%B8%8A%E7%9A%84%E4%BB%BB%E4%BD%95%E6%A0%87%E7%AD%BE%E5%80%BC%EF%BC%8C%E9%83%BD%E4%BC%9A%E5%BD%A2%E6%88%90%E6%96%B0%E7%9A%84%E6%97%B6%E5%BA%8F%E3%80%82%E6%A0%87%E7%AD%BE%E5%90%8D%E7%A7%B0%E5%8F%AF%E4%BB%A5%E5%8C%85%E5%90%ABASCII%E5%AD%97%E6%AF%8D%E3%80%81%E6%95%B0%E5%AD%97%E5%92%8C%E4%B8%8B%E5%88%92%E7%BA%BF%EF%BC%8C%E9%A1%BB%E5%8C%B9%E9%85%8D%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%5Ba-zA-Z_%5D%5Ba-zA-Z0-9_%5D%5C*%EF%BC%8C%E5%B8%A6%E6%9C%89_%E4%B8%8B%E5%88%92%E7%BA%BF%E7%9A%84%E6%A0%87%E7%AD%BE%E5%90%8D%E7%A7%B0%E4%BF%9D%E7%95%99%E4%B8%BA%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8%E3%80%82%E6%A0%87%E7%AD%BE%E5%80%BC%E5%8F%AF%E4%BB%A5%E5%8C%85%E5%90%AB%E4%BB%BB%E6%84%8FUnicode%E5%AD%97%E7%AC%A6%EF%BC%8C%E5%8C%85%E6%8B%AC%E4%B8%AD%E6%96%87%E3%80%82%0A%23%23%23%23%20%E9%87%87%E6%A0%B7%E5%80%BC%EF%BC%88Sample%EF%BC%89%0A%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E4%B8%80%E7%B3%BB%E5%88%97%E7%9A%84%E9%87%87%E6%A0%B7%E5%80%BC%E3%80%82%E6%AF%8F%E4%B8%AA%E9%87%87%E6%A0%B7%E5%80%BC%E5%8C%85%E6%8B%AC%EF%BC%9A%0A*%20%E4%B8%80%E4%B8%AA64%E4%BD%8D%E7%9A%84%E6%B5%AE%E7%82%B9%E6%95%B0%E5%80%BC%0A*%20%E4%B8%80%E4%B8%AA%E7%B2%BE%E7%A1%AE%E5%88%B0%E6%AF%AB%E7%A7%92%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3%0A%23%23%23%23%20%E6%B3%A8%E8%A7%A3%EF%BC%88Notation%EF%BC%89%0A%E4%B8%80%E4%B8%AA%E6%B3%A8%E8%A7%A3%E7%94%B1%E4%B8%80%E4%B8%AA%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E5%92%8C%E4%B8%80%E7%BB%84%E6%A0%87%E7%AD%BE%E9%94%AE%E5%80%BC%E5%AF%B9%E6%9E%84%E6%88%90%E3%80%82%E5%BD%A2%E5%BC%8F%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%60%60%60%0A%5Bmetric%20name%5D%7B%5Blabel%20name%5D%3D%5Blabel%20value%5D%2C%20...%7D%0A%60%60%60%0A%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E4%B8%BAapi_http_requests_total%EF%BC%8C%E6%A0%87%E7%AD%BE%E4%B8%BAmethod%3D%22POST%22%E3%80%81handler%3D%22%2Fmessages%22%E7%9A%84%E6%B3%A8%E8%A7%A3%E8%A1%A8%E7%A4%BA%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%60%60%60%0Aapi_http_requests_total%7Bmethod%3D%22POST%22%2C%20handler%3D%22%2Fmessages%22%7D%0A%60%60%60%0A%0A%23%23%23%20%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E7%B1%BB%E5%9E%8B%0APrometheus%E9%87%8C%E7%9A%84%E8%AF%95%E9%A2%98%E6%8C%87%E6%A0%87%E6%9C%89%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E7%B1%BB%E5%9E%8B%E3%80%82%0A%23%23%23%23%20%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%88Counter%EF%BC%89%0A%E8%AE%A1%E6%95%B0%E5%99%A8%E6%98%AF%E4%B8%80%E7%A7%8D%E7%B4%AF%E8%AE%A1%E5%9E%8B%E7%9A%84%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%EF%BC%8C%E5%AE%83%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8F%AA%E8%83%BD%E9%80%92%E5%A2%9E%E7%9A%84%E6%95%B0%E5%80%BC%E3%80%82%E8%AE%A1%E6%95%B0%E5%99%A8%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E7%BB%9F%E8%AE%A1%E7%B1%BB%E4%BC%BC%E4%BA%8E%E6%9C%8D%E5%8A%A1%E8%AF%B7%E6%B1%82%E6%95%B0%E3%80%81%E4%BB%BB%E5%8A%A1%E5%AE%8C%E6%88%90%E6%95%B0%E5%92%8C%E9%94%99%E8%AF%AF%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%E8%BF%99%E6%A0%B7%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82%0A%23%23%23%23%20%E8%AE%A1%E9%87%8F%E5%99%A8%EF%BC%88Gauge%EF%BC%89%0A%E8%AE%A1%E9%87%8F%E5%99%A8%E8%A1%A8%E7%A4%BA%E4%B8%80%E4%B8%AA%E6%97%A2%E5%8F%AF%E4%BB%A5%E5%A2%9E%E5%8A%A0%EF%BC%8C%E5%8F%88%E5%8F%AF%E4%BB%A5%E5%87%8F%E5%B0%91%E7%9A%84%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E5%80%BC%E3%80%82%E8%AE%A1%E9%87%8F%E5%99%A8%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E%E6%B5%8B%E9%87%8F%E7%B1%BB%E4%BC%BC%E4%BA%8E%E6%B8%A9%E5%BA%A6%E3%80%81%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E9%87%8F%E8%BF%99%E6%A0%B7%E7%9A%84%E7%9E%AC%E6%97%B6%E6%95%B0%E6%8D%AE%E3%80%82%0A%23%23%23%23%20%E7%9B%B4%E6%96%B9%E5%9B%BE%EF%BC%88Histogram%EF%BC%89%0A%E7%9B%B4%E6%96%B9%E5%9B%BE%E5%AF%B9%E8%A7%82%E5%AF%9F%E7%BB%93%E6%9E%9C%EF%BC%88%E9%80%9A%E5%B8%B8%E6%98%AF%E8%AF%B7%E6%B1%82%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4%E6%88%96%E8%80%85%E5%93%8D%E5%BA%94%E5%A4%A7%E5%B0%8F%E8%BF%99%E6%A0%B7%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%89%E8%BF%9B%E8%A1%8C%E9%87%87%E6%A0%B7%EF%BC%8C%E5%B9%B6%E5%9C%A8%E5%8F%AF%E9%85%8D%E7%BD%AE%E7%9A%84%E6%A1%B6%E4%B8%AD%E5%AF%B9%E5%85%B6%E8%BF%9B%E8%A1%8C%E7%BB%9F%E8%AE%A1%E3%80%82%E6%9C%89%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%9D%A5%E4%BA%A7%E7%94%9F%E7%9B%B4%E6%96%B9%E5%9B%BE%EF%BC%88%E5%81%87%E8%AE%BE%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E4%B8%BA%5C%3Cbasename%3E%EF%BC%89%EF%BC%9A%0A*%20%E6%8C%89%E6%A1%B6%E8%AE%A1%E6%95%B0%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbasename%3E%5C_bucket%7Ble%3D%22%3Cupper%20inclusive%20bound%3E%22%7D%0A*%20%E9%87%87%E5%80%BC%E6%80%BB%E5%92%8C%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbasename%3E%5C_sum%0A*%20%E9%87%87%E6%A0%B7%E5%80%BC%E6%80%BB%E6%95%B0%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbasename%3E%5C_count%EF%BC%8C%E4%B9%9F%E7%AD%89%E5%90%8C%E4%BA%8E%E6%8A%8A%E6%89%80%E6%9C%89%E9%87%87%E6%A0%B7%E5%80%BC%E6%94%BE%E5%88%B0%E4%B8%80%E4%B8%AA%E6%A1%B6%E9%87%8C%E6%9D%A5%E8%AE%A1%E6%95%B0%3Cbasename%3E%5C_bucket%7Ble%3D%22%2BInf%22%7D%0A%23%23%23%23%20%E6%B1%87%E6%80%BB%EF%BC%88Summary%EF%BC%89%0A%E7%B1%BB%E4%BC%BC%E4%BA%8E%E7%9B%B4%E6%96%B9%E5%9B%BE%EF%BC%8C%E6%B1%87%E6%80%BB%E4%B9%9F%E5%AF%B9%E8%A7%82%E5%AF%9F%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E9%87%87%E6%A0%B7%E3%80%82%E9%99%A4%E4%BA%86%E5%8F%AF%E4%BB%A5%E7%BB%9F%E8%AE%A1%E9%87%87%E6%A0%B7%E5%80%BC%E6%80%BB%E5%92%8C%E5%92%8C%E6%80%BB%E6%95%B0%EF%BC%8C%E5%AE%83%E8%BF%98%E8%83%BD%E5%A4%9F%E6%8C%89%E5%88%86%E4%BD%8D%E6%95%B0%E7%BB%9F%E8%AE%A1%E3%80%82%E6%9C%89%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%9D%A5%E4%BA%A7%E7%94%9F%E6%B1%87%E6%80%BB%EF%BC%88%E5%81%87%E8%AE%BE%E5%BA%A6%E9%87%8F%E6%8C%87%E6%A0%87%E4%B8%BA%5C%3Cbasename%3E%EF%BC%89%EF%BC%9A%0A*%20%E6%8C%89%E5%88%86%E4%BD%8D%E6%95%B0%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E9%87%87%E6%A0%B7%E5%80%BC%E5%B0%8F%E4%BA%8E%E8%AF%A5%E5%88%86%E4%BD%8D%E6%95%B0%E7%9A%84%E4%B8%AA%E6%95%B0%E5%8D%A0%E6%80%BB%E6%95%B0%E7%9A%84%E6%AF%94%E4%BE%8B%E5%B0%8F%E4%BA%8E%CF%86%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbasename%3E%7Bquantile%3D%22%3C%CF%86%3E%22%7D%0A*%20%E9%87%87%E6%A0%B7%E5%80%BC%E6%80%BB%E5%92%8C%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbasename%3E%5C_sum%0A*%20%E9%87%87%E6%A0%B7%E5%80%BC%E6%80%BB%E6%95%B0%EF%BC%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%3Cbasename%3E%5C_count%0A%0A%23%23%23%20%E4%BB%BB%E5%8A%A1%EF%BC%88Job%EF%BC%89%E5%92%8C%E5%AE%9E%E4%BE%8B%EF%BC%88Instance%EF%BC%89%0A%E5%9C%A8Prometheus%E9%87%8C%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BB%8E%E4%B8%AD%E6%8A%93%E5%8F%96%E9%87%87%E6%A0%B7%E5%80%BC%E7%9A%84%E7%AB%AF%E7%82%B9%E7%A7%B0%E4%B8%BA%E5%AE%9E%E4%BE%8B%EF%BC%8C%E4%B8%BA%E4%BA%86%E6%80%A7%E8%83%BD%E6%89%A9%E5%B1%95%E8%80%8C%E5%A4%8D%E5%88%B6%E5%87%BA%E6%9D%A5%E7%9A%84%E5%A4%9A%E4%B8%AA%E8%BF%99%E6%A0%B7%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%BD%A2%E6%88%90%E4%BA%86%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1%E3%80%82%0A%E4%BE%8B%E5%A6%82%E4%B8%8B%E9%9D%A2%E7%9A%84api-server%E4%BB%BB%E5%8A%A1%E6%9C%89%E5%9B%9B%E4%B8%AA%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AE%9E%E4%BE%8B%EF%BC%9A%0A%60%60%60%0Ajob%3A%20api-server%0Ainstance%201%3A%201.2.3.4%3A5670%0Ainstance%202%3A%201.2.3.4%3A5671%0Ainstance%203%3A%201.2.3.4%3A5670%0Ainstance%204%3A%201.2.3.4%3A5671%0A%60%60%60%0APrometheus%E6%8A%93%E5%8F%96%E5%AE%8C%E9%87%87%E6%A0%B7%E5%80%BC%E5%90%8E%EF%BC%8C%E4%BC%9A%E8%87%AA%E5%8A%A8%E7%BB%99%E9%87%87%E6%A0%B7%E5%80%BC%E6%B7%BB%E5%8A%A0%E4%B8%8B%E9%9D%A2%E7%9A%84%E6%A0%87%E7%AD%BE%E5%92%8C%E5%80%BC%EF%BC%9A%0A*%20job%EF%BC%9A%E6%8A%93%E5%8F%96%E6%89%80%E5%B1%9E%E4%BB%BB%E5%8A%A1%E3%80%82%0A*%20instance%EF%BC%9A%E6%8A%93%E5%8F%96%E6%9D%A5%E6%BA%90%E5%AE%9E%E4%BE%8B%0A%E5%8F%A6%E5%A4%96%E6%AF%8F%E6%AC%A1%E6%8A%93%E5%8F%96%E6%97%B6%EF%BC%8CPrometheus%E8%BF%98%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%9C%A8%E4%BB%A5%E4%B8%8B%E6%97%B6%E5%BA%8F%E9%87%8C%E6%8F%92%E5%85%A5%E9%87%87%E6%A0%B7%E5%80%BC%EF%BC%9A%0A*%20up%7Bjob%3D%22%5Bjob-name%5D%22%2C%20instance%3D%22instance-id%22%7D%EF%BC%9A%E9%87%87%E6%A0%B7%E5%80%BC%E4%B8%BA1%E8%A1%A8%E7%A4%BA%E5%AE%9E%E4%BE%8B%E5%81%A5%E5%BA%B7%EF%BC%8C%E5%90%A6%E5%88%99%E4%B8%BA%E4%B8%8D%E5%81%A5%E5%BA%B7%0A*%20scrape_duration_seconds%7Bjob%3D%22%5Bjob-name%5D%22%2C%20instance%3D%22%5Binstance-id%5D%22%7D%EF%BC%9A%E9%87%87%E6%A0%B7%E5%80%BC%E4%B8%BA%E6%9C%AC%E6%AC%A1%E6%8A%93%E5%8F%96%E6%B6%88%E8%80%97%E6%97%B6%E9%97%B4%0A*%20scrape_samples_post_metric_relabeling%7Bjob%3D%22%3Cjob-name%3E%22%2C%20instance%3D%22%3Cinstance-id%3E%22%7D%EF%BC%9A%E9%87%87%E6%A0%B7%E5%80%BC%E4%B8%BA%E9%87%8D%E6%96%B0%E6%89%93%E6%A0%87%E7%AD%BE%E5%90%8E%E7%9A%84%E9%87%87%E6%A0%B7%E5%80%BC%E4%B8%AA%E6%95%B0%0A*%20scrape_sample_scraped%7Bjob%3D%22%3Cjob-name%3E%22%2C%20instance%3D%22%3Cinstance-id%3E%22%7D%EF%BC%9A%E9%87%87%E6%A0%B7%E5%80%BC%E4%B8%BA%E6%9C%AC%E6%AC%A1%E6%8A%93%E5%8F%96%E5%88%B0%E7%9A%84%E9%87%87%E6%A0%B7%E5%80%BC%E4%B8%AA%E6%95%B0</center></span>
</div></body></html> 