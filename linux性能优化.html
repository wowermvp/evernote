<html>
<head>
  <title>linux性能优化</title>
  <basefont face="宋体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <meta name="content-class" content="yinxiang.markdown"/>
  <style>
    body, td {
      font-family: 宋体;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2231"/>
<h1>linux性能优化</h1>

<div><span><div style="font-size: 14px; margin: 0; padding: 0; width: 100%;"><h1 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 41px; border-bottom: 3px double #999; color: #000; margin-top: 14px;">linux性能优化</h1>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">CPU平均负载</h2>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">平均负载</strong>是指单位时间内，系统处于可运行状态和不可中断状态的平均进程数，也就是平均活跃进程数，它和CPU使用率并没直接关系。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">可运行状态的进程</strong>，是指正在使用CPU或者正在等待CPU的进程，也就是我们常用ps命令看到的，处于R状态（Running或Runnable）的进程。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">不可中断状态的进程</strong>是正处于内核态关键流程中的进程，并且这些流程是不可打断的，比如最常见的是等待硬件设备的I/O响应，也就是我们在ps命令中看到的D状态（Uninterruptible Sleep，也称为Disk Sleep）的进程。</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">CPU平均负载与CPU使用率</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">CPU密集型进程，使用大量CPU会导致平均负载升高，此时这两者是一致的；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">I/O密集型进程，等待I/O也会导致平均负载升高，但CPU使用率不一定很高；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">大量等待CPU的进程调度也会导致平均负载升高，此时的CPU使用率也会比较高。</li>
</ul>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">CPU上下文切换</h2>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">CPU寄存器</strong>，是CPU内置的容量小、但速度极快的内存。<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">程序计数器</strong>，则是用来存储CPU正在执行的指令位置、或者即将执行的下一条指令的位置。它们都是CPU在运行任何任务前，必须依赖的环境，因此也被叫做<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">CPU上下文</strong>。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">CPU上下文切换</strong>，就是先把前一个任务的CPU上下文（也就是CPU寄存器和程序计数器）保存起来，然后加载新任务的上下文到这些寄存器和程序计数器，最后再跳转到程序计数器所指的位置，运行新任务。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">进程上下文切换</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">内核空间（Ring 0）<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">具有最高权限，可以直接访问所有资源；<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">用户空间（Ring 3）<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">只能访问受限资源，不能直接访问内存等硬件设备，必须通过系统调用陷入到内核中，才能访问这些特权资源。<br/>
<img src="linux性能优化_files/内核.png" type="image/png" data-filename="内核.png"/><br/>
进程在用户空间运行时，被称为</strong>用户态</strong>，而陷入内核空间的时候，被称为进程的</strong>内核态</strong>。<br/>
<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">进程上下文切换</code>，是指从一个进程切换到另一个进程运行。而<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">系统调用</code>过程中一直是同一个进程在运行。<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">系统调用</code>的过程通常称为<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">特权模式切换</code>，而不是<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">上下文切换</code>。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">进程上下文切换跟系统调用的区别</strong>：进程是由内核来管理和调度的，进程的切换只能发生在内核态。所以，进程的上下文不仅包括了虚拟内存、栈、全局变量等用户空间的资源，还包括了内核堆栈、寄存器等内核空间的状态。因此，进程的上下文切换就比系统调用时多了一步：在保存当前进程的内核状态和CPU寄存器之前，需要先把该进程的虚拟内存、栈等保存下来；而加载了下一进程的内核态后，还需要刷新进程的虚拟内存和用户栈。<br/>
进程发生调度的场景：</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">为了保证所有进程可以得到公平调度，CPU时间被划分为一段段的时间片，这些时间片再被轮流分配给各个进程。这样，当某个进程的时间片耗尽了，就会被系统挂起，切换到其它正在等待CPU的进程运行。</li>
<li style="line-height: 160%; box-sizing: content-box;">进程在系统资源不足（比如内存不足）时，要等到资源满足后才可以运行，这个时候进程也会被挂起，并由系统调度其他进程运行。</li>
<li style="line-height: 160%; box-sizing: content-box;">当进程通过睡眠函数sleep将自己主动挂起时，自然也会重新调度。</li>
<li style="line-height: 160%; box-sizing: content-box;">当有优先级更高的进程运行时，为了保证高优先级进程的运行，当前进程会被挂起，由高优先级进程来运行。</li>
<li style="line-height: 160%; box-sizing: content-box;">发生硬件中断时，CPU上的进程会被中断挂起，转而执行内核中的中断服务程序。</li>
</ol>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">线程上下文切换</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">进程只有一个线程时，可以认为进程就等于线程；当进程拥有多个线程时，这些线程会共享相同的虚拟内存和全局变量等资源，这些资源在上下文切换时，不需要修改的；线程也有自己的私有数据，比如栈和寄存器等，这些上下文切换时也是需要保存的。<br/>
线程上下文切换分两种情况：</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">前后两个线程属于不同进程。此时，因为资源不共享，所以切换过程就跟进程上下文切换是一样；</li>
<li style="line-height: 160%; box-sizing: content-box;">前后两个线程属于同一个进程。此时，因为虚拟内存是共享的，所以在切换时，虚拟内存这些资源就保持不动，只需要切换线程的私有数据、寄存器等不共享的数据。</li>
</ol>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">中断上下文切换</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">为了快速响应硬件的事件，中断处理会打断进程的正常调度和运行。中断上下文切换不涉及到进程的用户态。对于同一个CPU来说，中断处理比进程拥有更高的优先级。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">自愿上下文切换（voluntary context switches）</strong>，是指进程无法获取所需资源，导致上下文切换。比如说，I/O、内存等系统资源不足时，就会发生自愿上下文切换。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">非自愿上下文切换（non voluntary context switches）</strong>，   则是指进程由于时间片已到等原因，被系统强制调度，进而发生的上下文切换。比如说，大量进程都在争抢CPU时，就容易发生非自愿上下文切换。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">重调度中断（RES）</strong>，这个中断类型表示，唤醒空闲状态的CPU来调度新的任务运行。这是多处理器系统（SMP）中， 调度器用来分散任务到不同CPU的机制，通常也被称为<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">处理器间中断（Inter-Processor Interrupts，IPI）</code>。</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">自愿上下文切换变多了，说明进程在等待资源，有可能发生了I/O等其他问题；</li>
<li style="line-height: 160%; box-sizing: content-box;">非自愿上下文切换蛮多了，说明进程都在被强制调度，也就是都在争抢CPU，说明CPU的确成了瓶颈；</li>
<li style="line-height: 160%; box-sizing: content-box;">中断次数变多了，说明CPU被中断处理程序占用，还需要通过查看/proc/interrupts文件来分析具体的中断类型。</li>
</ol>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">CPU使用率</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">CPU使用率</strong>，就是除了空闲时间外的其他时间占总CPU时间的百分比。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">perf工具</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ perf top
Samples: 833  of event 'cpu-clock', Event count (approx.): 97742399
Overhead  Shared Object       Symbol
   7.28%  perf                [.] 0x00000000001f78a4
   4.72%  [kernel]            [k] vsnprintf
   4.32%  [kernel]            [k] module_get_kallsym
   3.65%  [kernel]            [k] _raw_spin_unlock_irqrestore
...

输出结果中，第一行包含三个数据，分别 是采样数（Samples）、事件类型（event）和事件总数量（Event count）。
Overhead，是该符号的性能事件在所有采样中的比例，用百分比来表示。
Shared，是该函数或指令所在的动态共享对象（Dynamic Shared Object），如内核、进程名、动态链接库名、内核模块名等。
Object，是动态共享对象的类型。比如[.]表示用户空间的可执行程序、或者动态链接库，而[k]则表示内核空间。
Symbol，是符号名，也就是函数名。当函数名未知时，用十六进制的地址来表示。

perf record，提供了保存数据的功能。
perf report，解析保存后的数据。
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">碰到CPU使用率很高，但找不到高CPU的应用时，首先要想到的有可能是短时应用导致的问题，有可能是下面两种情况：</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">应用里直接调用了其他二进制程序，这些程序通常运行时间比较短，通过top等工具也不容易发现。</li>
<li style="line-height: 160%; box-sizing: content-box;">应用本身在不停地崩溃重启，而启动过程的资源初始化，很可能占用相当多的CPU。</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">进程的状态</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">R是Running或Runnable的缩写，表示进程在CPU的就绪队列中，正在运行或正在等待运行。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">D是Disk sleep的缩写，也就是不可中断状态睡眠（Uninterruptible Sleep），一般表示进程正在跟硬件交互，并且交互过程不允许被其他进程或中断打断。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">Z是Zombie的缩写，它表示僵尸进程，也就是进程实际上已经结束了，但是父进程还没有回收它的资源（比如进程的描述符、PID等）。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">S是Interruptible Sleep的缩写，也就是可中断状态睡眠，表示进程因为某个事件而被系统挂起。当进程等待的事件发生时，它会被唤醒并进入R状态。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">I是Idle的缩写，也就是空闲状态，用在不可中断睡眠的内核线程上。前面说了，硬件交互导致的不可中断进程用D表示，但对某些内核线程来说，它们有可能实际并没有任何负载，用Idle正是为了区分这种情况。要注意，D状态的进程会导致平均负载升高，I状态的进程却不会。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">T或者t，也就是Stopped或Traced的缩写，表示进程处于暂停或者跟踪状态。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">X也就是Dead的缩写，表示进程已经消亡，所以你不会在top或者ps命令中看到它。</li>
</ul>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">软中断</h2>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">中断是一种异步事件处理机制，可以提高系统的并发处理能力。<br/>
中断处理过程分成了两个阶段，也就是<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">上半部和下半部</code>：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">上半部</code>用来快速处理中断，它在中断禁止模式下运行，主要处理跟硬件紧密相关或时间敏感的工作。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">下半部</code>用来延迟处理上半部未完成的工作，通常以内核线程的方式运行。</li>
</ul>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">以网卡接收数据包为例：<br/>
网卡接收到数据包后，会通过硬件中断的方式，通知内核有新的数据到了。这时，内核应该调用中断处理程序来响应它。<br/>
对于上半部来说，既然是快速处理，其实就是把网卡中的数据读到内存中，然后更新一下硬件寄存器的状态（表示数据已经读好了），最后再发送一个软中断信号，通知下半部进一步处理。<br/>
而下半部被软中断唤醒后，需要从内存中找到网络数据，再按照网络协议，对数据进行逐层解析和处理，直到把它送给应用程序。</p>
</blockquote>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">上半部直接处理硬件请求，也就是我们常说的硬中断，特点是快速执行。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">下半部则是由内核触发，也就是我们常说的软中断，特点是延迟执行。</li>
</ul>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">查看软中断和内核线程</h3>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">/proc/softirqs</code>提供了软中断的运行情况。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">/proc/interrupts</code>提供了硬中断的运行情况。</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">根据指标找工具</strong></p>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">性能指标</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">工具</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">说明</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">平均负载</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">uptime, top</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">uptime查看CPU负载;top提供了更全的指标</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">系统整体CPU使用率</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">vmstat, mpstat, top, sar, /proc/stat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top、vmstat、mpstat只可以动态查看，而sar还可以记录历史数据，/proc/stat是其他性能工具的数据来源</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">进程CPU使用率</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top, pidstat, ps, htop, atop</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top和ps可以按CPU使用率给进程排序，而pidstat只显示实际用了CPU的进程，htop和atop以不同颜色显示更直观</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">系统上下文切换</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">vmstat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">除了上下文切换次数，还提供运行状态和不可以中断状态进程的数量</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">进程上下文切换</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">pidstat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">注意加上-w选项</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">软中断</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top, /proc/softirqs, mpstat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top提供软中断CPU使用率，而/proc/softirqs和mpstat提供了各种软中断在每个CPU上的运行次数</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">硬中断</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">vmstat, /proc/interrupts</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">vmstat提供总的中断次数，而/proc/interrupts提供各种中断在每个CPU运行的累积数</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">网络</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">dstat, sar, tcpdump</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">dstat和sar提供总的网络接收和发送情况，而tcpdump则是动态抓取正在进行的网络通讯</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">I/O</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">dstat, sar</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">dstat和sar进了提供了I/O的整体情况</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">CPU个数</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">/proc/cpuinfo, lscpu</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">lscpu更直观</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">事件剖析</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">perf, execsnoop</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">perf可以用来分析CPU缓存以及内核调用链，execsnoop用来监控短时进程</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">根据工具查看指标（CPU性能）</strong></p>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">性能工具</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">CPU性能指标</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">uptime</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">平均负载</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">平均负载、运行队列、整体的CPU使用率以及每个进程的状态和CPU使用率</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">htop</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">top增强版，以不同颜色区分不同类型的进程，更直观</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">atop</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">CPU、内存、磁盘和网络等各种资源的全面监控</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">vmstat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">系统整体的CPU使用率、上下文切换次数、中断次数，还包括处于运行和不可中断状态的进程数量</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">mpstat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">每个CPU的使用率和软中断次数</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">pidstat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">进程和线程的CPU使用率、中断上下文切换次数</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">/proc/softirqs</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">软中断类型和在每个CPU上的累积中断次数</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">/proc/interrupts</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">硬中断类型和在每个CPU上的累积中断次数</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">ps</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">每个进程的状态和CPU使用率</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">pstree</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">进程的父子关系</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">dstat</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">系统整体的CPU使用率</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">sar</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">系统整体的CPU使用率，包括可配置的历史数据</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">strace</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">进程的系统调用</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">perf</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">CPU性能事件剖析，如调用链分析、CPU缓存、CPUy调度等</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">execsnoop</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">监控短时进程</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">从top、vmstat、pidstat入手分析：<br/>
<img src="linux性能优化_files/stat.png" type="image/png" data-filename="stat.png"/></p>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">性能优化</h2>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">性能评估<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">三步走</code>：</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;">确定性能的量化指标。</li>
<li style="line-height: 160%; box-sizing: content-box;">测试优化前的性能指标。</li>
<li style="line-height: 160%; box-sizing: content-box;">测试优化后的性能指标。</li>
</ol>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">性能优化不要局限在单一的维度的指标上，至少要从<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">应用程序</code>和<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">系统资源</code>这两个维度，分别选择不同的指标。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">CPU优化</h3>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">应用程序优化</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">从<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">应用程序</code>的角度来说，降低CPU使用率的最好方法当然是，排除所有不必要的工作，只保留最核心的逻辑。比如减少循环的层次、减少递归、减少动态内存分配等。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">编译器优化</strong>：很多编译器会提供优化选项，适当开启它们，在编译阶段就可以获得编译器的帮助，来提升性能。比如，gcc提供优化选项-O2，开启会自动对应用程序的代码进行优化。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">算法优化</strong>：使用复杂度更低的算法，可以显著加快处理速度。比如，在数据比较大的情况下，可以用O(nlogn)排序算法（如快排、归并排序等），代替O(n^2)的排序算法（如冒泡、插入排序等）。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">异步处理</strong>：使用异步处理，可以避免程序程序因等待某个资源而一直阻塞，从而提升程序的并发能力。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">多线程代替多进程</strong>：相对于进程的上下文切换，线程的上下文切换并不切换进程地址空间，因此可以降低上下文切换的成本。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">善用缓存</strong>：经常访问或计算过程中的步骤，可以放到内存中缓存起来，这样在下次用时就能直接从内存中获取，加快程序的处理速度。</li>
</ul>
<h4 style="line-height: 160%; box-sizing: content-box; font-size: 20px; color: #333;">系统优化</h4>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">从<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">系统</code>的角度来说，优化CPU的运行，一方面要充分利用CPU缓存的本地性，加速缓存访问；另一方面，就是要控制进程的CPU使用情况，减少进程间的相互影响。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">CPU绑定</strong>：把进程绑定到一个或多个CPU上，可以提高CPU缓存的命中率，减少跨CPU调度带来的上下文切换问题。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">CPU独占</strong>：跟CPU绑定类似，进一步将CPU分组，并通过CPU亲和性机制为其分配进程。这样，CPU就由指定的进程独占。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">优先级调整</strong>：使用nice调整进程的优化级，正值高低优先级，负值调高优先级。适当降低非核心应用的优先级，增高核心应用的优先级，可以确保核心应用得到优先处理。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">为进程设置资源限制</strong>：使用Linux cgroups来设置进程的CPU使用上限，可以防止由于某个应用自身问题，而耗尽系统资源。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">NUMA（Non-uniform Memory Access）优化</strong>：支持NUMA的处理器会被划分为多个node，每个node都有自己的本地内存空间。NUMA优化，其实就是让CPU尽可能只访问本地内存。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">中断负载均衡</strong>：无论是软中断还是硬中断，它们的中断处理程序都可能会耗费大量的CPU。开启irqbalance服务或配置smp_affinity，就可以把中断处理过程自动负载均衡到多个CPU上。</li>
</ul>
<h2 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 34px; border-bottom: 1px solid #dbdbdb; color: #333;">内存</h2>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">内存映射</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">内存映射</strong>，其实就是将<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">虚拟内存地址</code>映射到<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">物理内存地址</code>。<br/>
内核为每个进程维护一张页表，记录虚拟地址与物理地址的映射关系，如图：<br/>
<img src="linux性能优化_files/mmu.png" type="image/png" data-filename="mmu.png"/></p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">MMU</strong>是CPU的内存管理单元，页表存储在MMU中。<br/>
当进程访问的虚拟地址在页表中找不到时，系统会产生一个缺页异常，进入内核空间分配物理内存、更新进程页表，最后返回用户空间，恢复进程运行。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">TLB（Translation Lookaside Buffer，转译后t备缓冲器）</strong>，是MMU中页表的高速缓存。<br/>
MMU规定一个内存映射的最小单位（页）为4KB。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">多级页表</strong>就是把内存分成区块来管理，将原来的映射关系改成区块索引和区块内的偏移。Linux用四级页表来管理内存页，虚拟地址被分为5个部分，前4个表项用于选择页，而最后一个索引表示页内偏移。<br/>
<img src="linux性能优化_files/pagetable.png" type="image/png" data-filename="pagetable.png"/><br/>
**大页（HugePage）**就是比普通页更大的内存块。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">虚拟内存空间分布</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">32位系统虚拟内存分布图：<br/>
<img src="linux性能优化_files/32memory.png" type="image/png" data-filename="32memory.png"/><br/>
用户空间内存分布：</p>
<ol style="line-height: 160%; box-sizing: content-box; display: block; padding-left: 30px; margin: 6px 0 10px; color: #333; list-style-type: decimal;">
<li style="line-height: 160%; box-sizing: content-box;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">只读段</code>，包括代码和常量等。</li>
<li style="line-height: 160%; box-sizing: content-box;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">数据段</code>，包括全局变量等。</li>
<li style="line-height: 160%; box-sizing: content-box;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">堆</code>，包括动态分配内存，从低地址开始向上增长</li>
<li style="line-height: 160%; box-sizing: content-box;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">文件映射段</code>，包括动态库、共享内存等，从高地址开始向下增长。</li>
<li style="line-height: 160%; box-sizing: content-box;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">栈</code>，包括局部变量和函数调用的上下文等。栈大小是固定的，一般是8MB。</li>
</ol>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">内存分配与回收</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">malloc()是C标准库提供的内存分配函数，对应到系统调用有两种实现方式：<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">brk()</code>和<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">mmap()</code>。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">小于128K的内存，使用brk()来分配，通过移动<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">堆</code>顶的位置来分配内存。这些内存释放后并不会立刻归还系统，而是被缓存起来，这样就可以重复使用。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">大于128K的内存，直接使用内存映射mmap()来分配，在<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">文件映射段</code>找一块空闲m内存分配出去。</li>
</ul>
<table style="margin: 2px 0 14px; color: #333; width: auto; border-collapse: collapse; box-sizing: border-box;"><thead style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">内存分配方式</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">优点</th><th style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #72777b; border-top: 0; background-color: #7b8184; font-weight: 300; color: #fff; padding-top: 6px;">缺点</th></tr></thead><tbody style="line-height: 160%; box-sizing: content-box;"><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">brk()</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">内存释放后会被缓存起来，可以重复使用，可以减少缺页异常的发生，提高访问效率</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">由于这些内存没有归还系统，在内存工作繁忙时，频繁的内存分配和释放会造成内存碎片</td></tr><tr style="line-height: 160%; box-sizing: content-box;"><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">mmap()</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">内存会在释放时直接归还系统</td><td style="line-height: 160%; box-sizing: content-box; padding: 5px 14px 5px 12px; border: 1px solid #eaeaea;">每次mmapf都会发生缺页异常，在内存工作繁忙时，频繁的内存分配会导致大量的缺页异常，使内核的管理负担增大</td></tr></tbody></table>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">内存紧张时，系统会通过以下三种机制来回收内存：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">回收缓存，比如使用LRU（Least Recently Used）算法，回收最近使用最少的内存页面；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">回收不常访问的内存，把不常用的内存通过交换分区直接写到磁盘中；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">杀死进程，内存紧张时系统还会通过OOM（Out Of Memory），直接杀掉占用大量内存的进程。</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">OOM会使用oom_score（oom_score越大就越容易被杀死）为每个进程的内存使用情况进行评分：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">一个进程消耗内存越大，oom_score就越大；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">一个进程运行占用CPU越多，oom_score就越小。</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">管理员可以通过设置进程的/proc/${pid}/oom_adj，从而调整进程的oom_score。oom_adj的范围是[-17, 15]，数值越大进程越容易被OOM杀死，数值越小进程越不容易被OOM杀死，其中-17表示禁止OOM。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">查看内存使用情况</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">free：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"># 注意不同版本的 free 输出可能会有所不同
$ free
              total        used        free      shared  buff/cache   available
Mem:        8169348      263524     6875352         668     1030472     7611064
Swap:             0           0           0

free输出的是一个表格，其中数值都默认以字节为单位。
第一列：total是总内存的大小；
第二列：used是已使用内存的大小，包含了共享内存；
第三列：free是未使用的内存的大小；
第四列：shared是共享内存的大小；
第五列：buff/cache是缓存和缓冲区的大小；
第六列：available是新进程可用内存的大小；
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">top：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;"># 按下 M 切换到内存排序
$ top
...
KiB Mem :  8169348 total,  6871440 free,   267096 used,  1030812 buff/cache
KiB Swap:        0 total,        0 free,        0 used.  7607492 avail Mem


  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
  430 root      19  -1  122360  35588  23748 S   0.0  0.4   0:32.17 systemd-journal
 1075 root      20   0  771860  22744  11368 S   0.0  0.3   0:38.89 snapd
 1048 root      20   0  170904  17292   9488 S   0.0  0.2   0:00.24 networkd-dispat
    1 root      20   0   78020   9156   6644 S   0.0  0.1   0:22.92 systemd
12376 azure     20   0   76632   7456   6420 S   0.0  0.1   0:00.01 systemd
12374 root      20   0  107984   7312   6304 S   0.0  0.1   0:00.00 sshd
...

VIRT是进程虚拟内存的大小，只要是进程申请过的内存，即便还没有真正分配t物理内存，也会计算在内。
RES是常驻内存的大小，也就是进程实际使用的物理内存大小，但不包括Swap和共享内存。
SHR是共享内存的大小，比如与其他进程共同使用的共享内存、加载的动态链接库以及程序的代码段。
%MEM是进程使用物理内存占用系统总内存的百分比。
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Buffer</strong>是对磁盘的数据缓存，而<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">Cache</strong>是文件数据的缓存，它们既会用在读请求中，也会用在写请求中。</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">Buffer</code>既可以用作“将要写入磁盘数据的缓存”，也可以用作“从磁盘读取数据的缓存”。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">Cache</code>既可以用作“从文件读取数据的页缓存”，也可以用作“写文件的页缓存”。</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">缓存命中率</strong>，是指直接通过缓存获取数据的请求次数，占所有请求次数的百分比。命中率越高，表示使用缓存带来的收益越高，应用程序的性能也就越好。</p>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">cachestat提供了整个操作系统缓存的读写命中情况：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ cachestat 1 3
   TOTAL   MISSES     HITS  DIRTIES   BUFFERS_MB  CACHED_MB
       2        0        2        1           17        279
       2        0        2        1           17        279
       2        0        2        1           17        279 

TOGAL，表示总的I/O次数；
MISSES，表示缓存未命中的次数；
HITS，表示缓存命中的次数；
DIRTIES，表示新增到缓存中的脏页数；
BUFFERS_MB表示Buffers的大小，以MB为单位；
CACHED_MB表示Cache的大小，以MB为单位。
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">cachetop提供了每个进程的缓存命中情况：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ cachetop
11:58:50 Buffers MB: 258 / Cached MB: 347 / Sort: HITS / Order: ascending
PID      UID      CMD              HITS     MISSES   DIRTIES  READ_HIT%  WRITE_HIT%
   13029 root     python                  1        0        0     100.0%       0.0%

HITS，表示缓存命中的次数；
MISSES，表示缓存未命中的次数；
DIRTIES，表示新增到缓存中的脏页数；
READ_HIT，表示读的缓存命中率；
WRITE_HIT，表示写的缓存命中率。
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">pcstat指定文件在内存中的缓存大小：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ pcstat /bin/ls
+---------+----------------+------------+-----------+---------+
| Name    | Size (bytes)   | Pages      | Cached    | Percent |
|---------+----------------+------------+-----------+---------|
| /bin/ls | 133792         | 33         | 0         | 000.000 |
+---------+----------------+------------+-----------+---------+

</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">内存泄漏</code>的危害非常大，这些忘记释放的内存，不仅应用程序自己不能访问，系统也不能把它们再次分配给其他应用。</p>
<h3 style="line-height: 160%; box-sizing: content-box; font-weight: 700; font-size: 27px; color: #333;">Swap</h3>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">文件页</strong>，缓冲（cache）和缓冲区（buffer）在内存管理中被叫做<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">文件页</code>。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">脏页</strong>，被应用程序修改过，并且暂时还没写入磁盘的数据。<br/>
脏页写入磁盘的两种方式：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">可以在应用程序中，通过系统调用<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">fsync</code>，把脏页同步到磁盘中；</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">也可以交给系统，由内核线程<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">pdflush</code>负责这些脏页的刷新。</li>
</ul>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">匿名页（Anonymous Page）</strong>，应用程序动态分配的内存，内存管理中被叫做<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">匿名页</code>。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">直接内存回收</strong>，有新的内存分配请求，但是剩余内存不足，这时系统需要回收一部分内存（比如前面提到的缓存），进而尽可能地满足新内存请求的过程。<br/>
<strong style="line-height: 160%; box-sizing: content-box; font-weight: 700;">定期内存回收</strong>，内核线程（<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">kswapd0</code>）定期扫描内存使用情况，并根据剩余内存落在三个阈值的空间位置，进行内存回收操作。<br/>
<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">kswapd0</code>定义三个内存阈值（watermark，也称水位），分别是页<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">最小阈值（pages_min）</code>、<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页低阈值（pages_low）</code>和<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页高阈值（pages_high）</code>。<br/>
<img src="linux性能优化_files/watermark.png" type="image/png" data-filename="watermark.png"/></p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">剩余内存小于<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页最小阈值</code>，说明进程可用内存都耗尽了，只有内核才可以分配内存。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">剩余内存落在<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页最小阈值</code>和<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页低阈值</code>中间，说明内存压力比较大，剩余内存不多了。这时<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">kswapd0</code>会执行内存回收，直到剩余内存大于<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页高阈值</code>为止。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">剩余内存落在<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页低阈值</code>和<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页高阈值</code>中间，说明内存有一定压力，但还可以满足新内存请求。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">剩余内存大于<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">页高阈值</code>，说明剩余内存比较多，没有内存压力。</li>
</ul>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">页最小阈值通过内核选项<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">/proc/sys/vm/min_free_kbytes</code>来间接设置。其他两个阈值都是根据页最小阈值计算生成的：pages_low = pages_min*5/4，pages_high = pages_min*3/2。</p>
</blockquote>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;"><code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">NUMA（Non-Uniform Memory Access）</code>架构下，多个处理器被划分到不同的Node上，且每个Node都拥有自己的本地内存空间。<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">内存分析时应该对每个Node单独分析</code>。<br/>
numactl命令可以查看处理器在Node的分布情况，以及每个Noder的内存使用情况：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ numactl --hardware
available: 1 nodes (0)
node 0 cpus: 0 1
node 0 size: 7977 MB
node 0 free: 4416 MB
...
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">页最小阈值、页低阈值和页高阈值可以通过内存域在proc文件系统中的接口<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">/proc/zoneinfo</code>来查看：</p>
<pre style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; margin: 2px 0 8px; background-color: #f5f7f8;"><code style="display: block; overflow-x: auto; background: #1e1e1e; line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; letter-spacing: -.3px; padding: 18px; color: #f4f4f4; white-space: pre-wrap;">$ cat /proc/zoneinfo
...
Node 0, zone   Normal
 pages free     227894
       min      14896
       low      18620
       high     22344
...
     nr_free_pages 227894
     nr_zone_inactive_anon 11082
     nr_zone_active_anon 14024
     nr_zone_inactive_file 539024
     nr_zone_active_file 923986
...

pages处的min、low、high，就是上面提到的三个内存阈值，而free是剩余内存页数，它与后面的nr_free_pages相同。
nr_zone_active_anon和nr_zone_inactive_anon，分别是活跃和非活跃的匿名页数。
nr_zone_active_file和nr_zone_inactive_file，分别是活跃和非活跃的文件页数。
</code></pre>
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333;">NUMA内存回收策略可以通过<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">/proc/sys/vm/zone_reclaim_mode</code>来调整：</p>
<ul style="line-height: 160%; box-sizing: content-box; display: block; list-style-type: disc; padding-left: 30px; margin: 6px 0 10px; color: #333;">
<li style="line-height: 160%; box-sizing: content-box; position: relative;">默认的0，表示既可以从其他Node寻找空闲内存，也可以从本地回收内存。</li>
<li style="line-height: 160%; box-sizing: content-box; position: relative;">1、2、4都表示只回收本地内存，2表示可以回写脏数据回收内存，4表示可以用swap方式回收内存。</li>
</ul>
<blockquote style="line-height: 160%; box-sizing: content-box; margin: 15px 0; border-left: 4px solid #ddd; padding: 0 15px; color: #777;">
<p style="line-height: 160%; box-sizing: content-box; margin: 10px 0; color: #333; margin-top: 0; margin-bottom: 0;">对文件页的回收，直接清空，或者把脏数据写回磁盘后同志释放。<br/>
对匿名页的回收，需要通过swap换出到磁盘中，下次访问时，再从磁盘中换入到内存中。<br/>
可以设置<code style="line-height: 160%; box-sizing: content-box; border: 0; border-radius: 0; color: #c1788b; padding: 4px 4px 2px 0; letter-spacing: -.3px;">/proc/sys/vm/swappiness</code>，来调整文件页和匿名页的回收倾向：swappiness的范围是0-100，数值越大，越积极使用swap，也就是更倾向于回收匿名页；数值越小，越消极使用swap，也就是更倾向于回收文件页。</p>
</blockquote>
</div><center style="display:none !important;visibility:collapse !important;height:0 !important;white-space:nowrap;width:100%;overflow:hidden">%23%20linux%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%0A%23%23%20CPU%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%0A**%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD**%E6%98%AF%E6%8C%87%E5%8D%95%E4%BD%8D%E6%97%B6%E9%97%B4%E5%86%85%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%A4%84%E4%BA%8E%E5%8F%AF%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81%E5%92%8C%E4%B8%8D%E5%8F%AF%E4%B8%AD%E6%96%AD%E7%8A%B6%E6%80%81%E7%9A%84%E5%B9%B3%E5%9D%87%E8%BF%9B%E7%A8%8B%E6%95%B0%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E5%B9%B3%E5%9D%87%E6%B4%BB%E8%B7%83%E8%BF%9B%E7%A8%8B%E6%95%B0%EF%BC%8C%E5%AE%83%E5%92%8CCPU%E4%BD%BF%E7%94%A8%E7%8E%87%E5%B9%B6%E6%B2%A1%E7%9B%B4%E6%8E%A5%E5%85%B3%E7%B3%BB%E3%80%82%0A*%20**%E5%8F%AF%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%9B%E7%A8%8B**%EF%BC%8C%E6%98%AF%E6%8C%87%E6%AD%A3%E5%9C%A8%E4%BD%BF%E7%94%A8CPU%E6%88%96%E8%80%85%E6%AD%A3%E5%9C%A8%E7%AD%89%E5%BE%85CPU%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E6%88%91%E4%BB%AC%E5%B8%B8%E7%94%A8ps%E5%91%BD%E4%BB%A4%E7%9C%8B%E5%88%B0%E7%9A%84%EF%BC%8C%E5%A4%84%E4%BA%8ER%E7%8A%B6%E6%80%81%EF%BC%88Running%E6%88%96Runnable%EF%BC%89%E7%9A%84%E8%BF%9B%E7%A8%8B%E3%80%82%0A*%20**%E4%B8%8D%E5%8F%AF%E4%B8%AD%E6%96%AD%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%9B%E7%A8%8B**%E6%98%AF%E6%AD%A3%E5%A4%84%E4%BA%8E%E5%86%85%E6%A0%B8%E6%80%81%E5%85%B3%E9%94%AE%E6%B5%81%E7%A8%8B%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%BF%99%E4%BA%9B%E6%B5%81%E7%A8%8B%E6%98%AF%E4%B8%8D%E5%8F%AF%E6%89%93%E6%96%AD%E7%9A%84%EF%BC%8C%E6%AF%94%E5%A6%82%E6%9C%80%E5%B8%B8%E8%A7%81%E7%9A%84%E6%98%AF%E7%AD%89%E5%BE%85%E7%A1%AC%E4%BB%B6%E8%AE%BE%E5%A4%87%E7%9A%84I%2FO%E5%93%8D%E5%BA%94%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E6%88%91%E4%BB%AC%E5%9C%A8ps%E5%91%BD%E4%BB%A4%E4%B8%AD%E7%9C%8B%E5%88%B0%E7%9A%84D%E7%8A%B6%E6%80%81%EF%BC%88Uninterruptible%20Sleep%EF%BC%8C%E4%B9%9F%E7%A7%B0%E4%B8%BADisk%20Sleep%EF%BC%89%E7%9A%84%E8%BF%9B%E7%A8%8B%E3%80%82%0A%23%23%23%20CPU%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%E4%B8%8ECPU%E4%BD%BF%E7%94%A8%E7%8E%87%0A*%20CPU%E5%AF%86%E9%9B%86%E5%9E%8B%E8%BF%9B%E7%A8%8B%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%A4%A7%E9%87%8FCPU%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%E5%8D%87%E9%AB%98%EF%BC%8C%E6%AD%A4%E6%97%B6%E8%BF%99%E4%B8%A4%E8%80%85%E6%98%AF%E4%B8%80%E8%87%B4%E7%9A%84%EF%BC%9B%0A*%20I%2FO%E5%AF%86%E9%9B%86%E5%9E%8B%E8%BF%9B%E7%A8%8B%EF%BC%8C%E7%AD%89%E5%BE%85I%2FO%E4%B9%9F%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%E5%8D%87%E9%AB%98%EF%BC%8C%E4%BD%86CPU%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B8%8D%E4%B8%80%E5%AE%9A%E5%BE%88%E9%AB%98%EF%BC%9B%0A*%20%E5%A4%A7%E9%87%8F%E7%AD%89%E5%BE%85CPU%E7%9A%84%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E4%B9%9F%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%E5%8D%87%E9%AB%98%EF%BC%8C%E6%AD%A4%E6%97%B6%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E7%8E%87%E4%B9%9F%E4%BC%9A%E6%AF%94%E8%BE%83%E9%AB%98%E3%80%82%0A%23%23%20CPU%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%0A**CPU%E5%AF%84%E5%AD%98%E5%99%A8**%EF%BC%8C%E6%98%AFCPU%E5%86%85%E7%BD%AE%E7%9A%84%E5%AE%B9%E9%87%8F%E5%B0%8F%E3%80%81%E4%BD%86%E9%80%9F%E5%BA%A6%E6%9E%81%E5%BF%AB%E7%9A%84%E5%86%85%E5%AD%98%E3%80%82**%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8**%EF%BC%8C%E5%88%99%E6%98%AF%E7%94%A8%E6%9D%A5%E5%AD%98%E5%82%A8CPU%E6%AD%A3%E5%9C%A8%E6%89%A7%E8%A1%8C%E7%9A%84%E6%8C%87%E4%BB%A4%E4%BD%8D%E7%BD%AE%E3%80%81%E6%88%96%E8%80%85%E5%8D%B3%E5%B0%86%E6%89%A7%E8%A1%8C%E7%9A%84%E4%B8%8B%E4%B8%80%E6%9D%A1%E6%8C%87%E4%BB%A4%E7%9A%84%E4%BD%8D%E7%BD%AE%E3%80%82%E5%AE%83%E4%BB%AC%E9%83%BD%E6%98%AFCPU%E5%9C%A8%E8%BF%90%E8%A1%8C%E4%BB%BB%E4%BD%95%E4%BB%BB%E5%8A%A1%E5%89%8D%EF%BC%8C%E5%BF%85%E9%A1%BB%E4%BE%9D%E8%B5%96%E7%9A%84%E7%8E%AF%E5%A2%83%EF%BC%8C%E5%9B%A0%E6%AD%A4%E4%B9%9F%E8%A2%AB%E5%8F%AB%E5%81%9A**CPU%E4%B8%8A%E4%B8%8B%E6%96%87**%E3%80%82%0A**CPU%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2**%EF%BC%8C%E5%B0%B1%E6%98%AF%E5%85%88%E6%8A%8A%E5%89%8D%E4%B8%80%E4%B8%AA%E4%BB%BB%E5%8A%A1%E7%9A%84CPU%E4%B8%8A%E4%B8%8B%E6%96%87%EF%BC%88%E4%B9%9F%E5%B0%B1%E6%98%AFCPU%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%89%E4%BF%9D%E5%AD%98%E8%B5%B7%E6%9D%A5%EF%BC%8C%E7%84%B6%E5%90%8E%E5%8A%A0%E8%BD%BD%E6%96%B0%E4%BB%BB%E5%8A%A1%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%B0%E8%BF%99%E4%BA%9B%E5%AF%84%E5%AD%98%E5%99%A8%E5%92%8C%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%8C%E6%9C%80%E5%90%8E%E5%86%8D%E8%B7%B3%E8%BD%AC%E5%88%B0%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8%E6%89%80%E6%8C%87%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E8%BF%90%E8%A1%8C%E6%96%B0%E4%BB%BB%E5%8A%A1%E3%80%82%0A%0A%23%23%23%20%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%0A**%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%EF%BC%88Ring%200%EF%BC%89**%E5%85%B7%E6%9C%89%E6%9C%80%E9%AB%98%E6%9D%83%E9%99%90%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E6%89%80%E6%9C%89%E8%B5%84%E6%BA%90%EF%BC%9B%0A**%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%EF%BC%88Ring%203%EF%BC%89**%E5%8F%AA%E8%83%BD%E8%AE%BF%E9%97%AE%E5%8F%97%E9%99%90%E8%B5%84%E6%BA%90%EF%BC%8C%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E5%86%85%E5%AD%98%E7%AD%89%E7%A1%AC%E4%BB%B6%E8%AE%BE%E5%A4%87%EF%BC%8C%E5%BF%85%E9%A1%BB%E9%80%9A%E8%BF%87%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E9%99%B7%E5%85%A5%E5%88%B0%E5%86%85%E6%A0%B8%E4%B8%AD%EF%BC%8C%E6%89%8D%E8%83%BD%E8%AE%BF%E9%97%AE%E8%BF%99%E4%BA%9B%E7%89%B9%E6%9D%83%E8%B5%84%E6%BA%90%E3%80%82%0A%20%20%20%20!%5Bb17de51413bda8ef70cefe8b9e62404f.png%5D(en-resource%3A%2F%2Fdatabase%2F2233%3A1)%0A%E8%BF%9B%E7%A8%8B%E5%9C%A8%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E8%BF%90%E8%A1%8C%E6%97%B6%EF%BC%8C%E8%A2%AB%E7%A7%B0%E4%B8%BA**%E7%94%A8%E6%88%B7%E6%80%81**%EF%BC%8C%E8%80%8C%E9%99%B7%E5%85%A5%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E8%A2%AB%E7%A7%B0%E4%B8%BA%E8%BF%9B%E7%A8%8B%E7%9A%84**%E5%86%85%E6%A0%B8%E6%80%81**%E3%80%82%0A%60%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%60%EF%BC%8C%E6%98%AF%E6%8C%87%E4%BB%8E%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%E3%80%82%E8%80%8C%60%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%60%E8%BF%87%E7%A8%8B%E4%B8%AD%E4%B8%80%E7%9B%B4%E6%98%AF%E5%90%8C%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E5%9C%A8%E8%BF%90%E8%A1%8C%E3%80%82%60%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%60%E7%9A%84%E8%BF%87%E7%A8%8B%E9%80%9A%E5%B8%B8%E7%A7%B0%E4%B8%BA%60%E7%89%B9%E6%9D%83%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2%60%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%60%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%60%E3%80%82%0A**%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E8%B7%9F%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E7%9A%84%E5%8C%BA%E5%88%AB**%EF%BC%9A%E8%BF%9B%E7%A8%8B%E6%98%AF%E7%94%B1%E5%86%85%E6%A0%B8%E6%9D%A5%E7%AE%A1%E7%90%86%E5%92%8C%E8%B0%83%E5%BA%A6%E7%9A%84%EF%BC%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%87%E6%8D%A2%E5%8F%AA%E8%83%BD%E5%8F%91%E7%94%9F%E5%9C%A8%E5%86%85%E6%A0%B8%E6%80%81%E3%80%82%E6%89%80%E4%BB%A5%EF%BC%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%8D%E4%BB%85%E5%8C%85%E6%8B%AC%E4%BA%86%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E3%80%81%E6%A0%88%E3%80%81%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%AD%89%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E7%9A%84%E8%B5%84%E6%BA%90%EF%BC%8C%E8%BF%98%E5%8C%85%E6%8B%AC%E4%BA%86%E5%86%85%E6%A0%B8%E5%A0%86%E6%A0%88%E3%80%81%E5%AF%84%E5%AD%98%E5%99%A8%E7%AD%89%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E7%8A%B6%E6%80%81%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E5%B0%B1%E6%AF%94%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E6%97%B6%E5%A4%9A%E4%BA%86%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%9C%A8%E4%BF%9D%E5%AD%98%E5%BD%93%E5%89%8D%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%86%85%E6%A0%B8%E7%8A%B6%E6%80%81%E5%92%8CCPU%E5%AF%84%E5%AD%98%E5%99%A8%E4%B9%8B%E5%89%8D%EF%BC%8C%E9%9C%80%E8%A6%81%E5%85%88%E6%8A%8A%E8%AF%A5%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E3%80%81%E6%A0%88%E7%AD%89%E4%BF%9D%E5%AD%98%E4%B8%8B%E6%9D%A5%EF%BC%9B%E8%80%8C%E5%8A%A0%E8%BD%BD%E4%BA%86%E4%B8%8B%E4%B8%80%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%86%85%E6%A0%B8%E6%80%81%E5%90%8E%EF%BC%8C%E8%BF%98%E9%9C%80%E8%A6%81%E5%88%B7%E6%96%B0%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E5%92%8C%E7%94%A8%E6%88%B7%E6%A0%88%E3%80%82%0A%E8%BF%9B%E7%A8%8B%E5%8F%91%E7%94%9F%E8%B0%83%E5%BA%A6%E7%9A%84%E5%9C%BA%E6%99%AF%EF%BC%9A%0A1.%20%E4%B8%BA%E4%BA%86%E4%BF%9D%E8%AF%81%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%E5%8F%AF%E4%BB%A5%E5%BE%97%E5%88%B0%E5%85%AC%E5%B9%B3%E8%B0%83%E5%BA%A6%EF%BC%8CCPU%E6%97%B6%E9%97%B4%E8%A2%AB%E5%88%92%E5%88%86%E4%B8%BA%E4%B8%80%E6%AE%B5%E6%AE%B5%E7%9A%84%E6%97%B6%E9%97%B4%E7%89%87%EF%BC%8C%E8%BF%99%E4%BA%9B%E6%97%B6%E9%97%B4%E7%89%87%E5%86%8D%E8%A2%AB%E8%BD%AE%E6%B5%81%E5%88%86%E9%85%8D%E7%BB%99%E5%90%84%E4%B8%AA%E8%BF%9B%E7%A8%8B%E3%80%82%E8%BF%99%E6%A0%B7%EF%BC%8C%E5%BD%93%E6%9F%90%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%97%B6%E9%97%B4%E7%89%87%E8%80%97%E5%B0%BD%E4%BA%86%EF%BC%8C%E5%B0%B1%E4%BC%9A%E8%A2%AB%E7%B3%BB%E7%BB%9F%E6%8C%82%E8%B5%B7%EF%BC%8C%E5%88%87%E6%8D%A2%E5%88%B0%E5%85%B6%E5%AE%83%E6%AD%A3%E5%9C%A8%E7%AD%89%E5%BE%85CPU%E7%9A%84%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%E3%80%82%0A2.%20%E8%BF%9B%E7%A8%8B%E5%9C%A8%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%B8%8D%E8%B6%B3%EF%BC%88%E6%AF%94%E5%A6%82%E5%86%85%E5%AD%98%E4%B8%8D%E8%B6%B3%EF%BC%89%E6%97%B6%EF%BC%8C%E8%A6%81%E7%AD%89%E5%88%B0%E8%B5%84%E6%BA%90%E6%BB%A1%E8%B6%B3%E5%90%8E%E6%89%8D%E5%8F%AF%E4%BB%A5%E8%BF%90%E8%A1%8C%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%97%B6%E5%80%99%E8%BF%9B%E7%A8%8B%E4%B9%9F%E4%BC%9A%E8%A2%AB%E6%8C%82%E8%B5%B7%EF%BC%8C%E5%B9%B6%E7%94%B1%E7%B3%BB%E7%BB%9F%E8%B0%83%E5%BA%A6%E5%85%B6%E4%BB%96%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%E3%80%82%0A3.%20%E5%BD%93%E8%BF%9B%E7%A8%8B%E9%80%9A%E8%BF%87%E7%9D%A1%E7%9C%A0%E5%87%BD%E6%95%B0sleep%E5%B0%86%E8%87%AA%E5%B7%B1%E4%B8%BB%E5%8A%A8%E6%8C%82%E8%B5%B7%E6%97%B6%EF%BC%8C%E8%87%AA%E7%84%B6%E4%B9%9F%E4%BC%9A%E9%87%8D%E6%96%B0%E8%B0%83%E5%BA%A6%E3%80%82%0A4.%20%E5%BD%93%E6%9C%89%E4%BC%98%E5%85%88%E7%BA%A7%E6%9B%B4%E9%AB%98%E7%9A%84%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%E6%97%B6%EF%BC%8C%E4%B8%BA%E4%BA%86%E4%BF%9D%E8%AF%81%E9%AB%98%E4%BC%98%E5%85%88%E7%BA%A7%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%90%E8%A1%8C%EF%BC%8C%E5%BD%93%E5%89%8D%E8%BF%9B%E7%A8%8B%E4%BC%9A%E8%A2%AB%E6%8C%82%E8%B5%B7%EF%BC%8C%E7%94%B1%E9%AB%98%E4%BC%98%E5%85%88%E7%BA%A7%E8%BF%9B%E7%A8%8B%E6%9D%A5%E8%BF%90%E8%A1%8C%E3%80%82%0A5.%20%E5%8F%91%E7%94%9F%E7%A1%AC%E4%BB%B6%E4%B8%AD%E6%96%AD%E6%97%B6%EF%BC%8CCPU%E4%B8%8A%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%BC%9A%E8%A2%AB%E4%B8%AD%E6%96%AD%E6%8C%82%E8%B5%B7%EF%BC%8C%E8%BD%AC%E8%80%8C%E6%89%A7%E8%A1%8C%E5%86%85%E6%A0%B8%E4%B8%AD%E7%9A%84%E4%B8%AD%E6%96%AD%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E3%80%82%0A%23%23%23%20%E7%BA%BF%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%0A%E8%BF%9B%E7%A8%8B%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E7%BA%BF%E7%A8%8B%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%AE%A4%E4%B8%BA%E8%BF%9B%E7%A8%8B%E5%B0%B1%E7%AD%89%E4%BA%8E%E7%BA%BF%E7%A8%8B%EF%BC%9B%E5%BD%93%E8%BF%9B%E7%A8%8B%E6%8B%A5%E6%9C%89%E5%A4%9A%E4%B8%AA%E7%BA%BF%E7%A8%8B%E6%97%B6%EF%BC%8C%E8%BF%99%E4%BA%9B%E7%BA%BF%E7%A8%8B%E4%BC%9A%E5%85%B1%E4%BA%AB%E7%9B%B8%E5%90%8C%E7%9A%84%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E5%92%8C%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%AD%89%E8%B5%84%E6%BA%90%EF%BC%8C%E8%BF%99%E4%BA%9B%E8%B5%84%E6%BA%90%E5%9C%A8%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E6%97%B6%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9%E7%9A%84%EF%BC%9B%E7%BA%BF%E7%A8%8B%E4%B9%9F%E6%9C%89%E8%87%AA%E5%B7%B1%E7%9A%84%E7%A7%81%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%AF%94%E5%A6%82%E6%A0%88%E5%92%8C%E5%AF%84%E5%AD%98%E5%99%A8%E7%AD%89%EF%BC%8C%E8%BF%99%E4%BA%9B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E6%97%B6%E4%B9%9F%E6%98%AF%E9%9C%80%E8%A6%81%E4%BF%9D%E5%AD%98%E7%9A%84%E3%80%82%0A%E7%BA%BF%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E5%88%86%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%9A%0A1.%20%E5%89%8D%E5%90%8E%E4%B8%A4%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%B1%9E%E4%BA%8E%E4%B8%8D%E5%90%8C%E8%BF%9B%E7%A8%8B%E3%80%82%E6%AD%A4%E6%97%B6%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%B5%84%E6%BA%90%E4%B8%8D%E5%85%B1%E4%BA%AB%EF%BC%8C%E6%89%80%E4%BB%A5%E5%88%87%E6%8D%A2%E8%BF%87%E7%A8%8B%E5%B0%B1%E8%B7%9F%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E6%98%AF%E4%B8%80%E6%A0%B7%EF%BC%9B%0A2.%20%E5%89%8D%E5%90%8E%E4%B8%A4%E4%B8%AA%E7%BA%BF%E7%A8%8B%E5%B1%9E%E4%BA%8E%E5%90%8C%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E3%80%82%E6%AD%A4%E6%97%B6%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E6%98%AF%E5%85%B1%E4%BA%AB%E7%9A%84%EF%BC%8C%E6%89%80%E4%BB%A5%E5%9C%A8%E5%88%87%E6%8D%A2%E6%97%B6%EF%BC%8C%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E8%BF%99%E4%BA%9B%E8%B5%84%E6%BA%90%E5%B0%B1%E4%BF%9D%E6%8C%81%E4%B8%8D%E5%8A%A8%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E5%88%87%E6%8D%A2%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%A7%81%E6%9C%89%E6%95%B0%E6%8D%AE%E3%80%81%E5%AF%84%E5%AD%98%E5%99%A8%E7%AD%89%E4%B8%8D%E5%85%B1%E4%BA%AB%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82%0A%23%23%23%20%E4%B8%AD%E6%96%AD%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%0A%E4%B8%BA%E4%BA%86%E5%BF%AB%E9%80%9F%E5%93%8D%E5%BA%94%E7%A1%AC%E4%BB%B6%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%8C%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E4%BC%9A%E6%89%93%E6%96%AD%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%AD%A3%E5%B8%B8%E8%B0%83%E5%BA%A6%E5%92%8C%E8%BF%90%E8%A1%8C%E3%80%82%E4%B8%AD%E6%96%AD%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E4%B8%8D%E6%B6%89%E5%8F%8A%E5%88%B0%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%94%A8%E6%88%B7%E6%80%81%E3%80%82%E5%AF%B9%E4%BA%8E%E5%90%8C%E4%B8%80%E4%B8%AACPU%E6%9D%A5%E8%AF%B4%EF%BC%8C%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E6%AF%94%E8%BF%9B%E7%A8%8B%E6%8B%A5%E6%9C%89%E6%9B%B4%E9%AB%98%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E3%80%82%0A%0A**%E8%87%AA%E6%84%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%EF%BC%88voluntary%20context%20switches%EF%BC%89**%EF%BC%8C%E6%98%AF%E6%8C%87%E8%BF%9B%E7%A8%8B%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96%E6%89%80%E9%9C%80%E8%B5%84%E6%BA%90%EF%BC%8C%E5%AF%BC%E8%87%B4%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E3%80%82%E6%AF%94%E5%A6%82%E8%AF%B4%EF%BC%8CI%2FO%E3%80%81%E5%86%85%E5%AD%98%E7%AD%89%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E4%B8%8D%E8%B6%B3%E6%97%B6%EF%BC%8C%E5%B0%B1%E4%BC%9A%E5%8F%91%E7%94%9F%E8%87%AA%E6%84%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E3%80%82%0A**%E9%9D%9E%E8%87%AA%E6%84%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%EF%BC%88non%20voluntary%20context%20switches%EF%BC%89**%EF%BC%8C%20%20%20%E5%88%99%E6%98%AF%E6%8C%87%E8%BF%9B%E7%A8%8B%E7%94%B1%E4%BA%8E%E6%97%B6%E9%97%B4%E7%89%87%E5%B7%B2%E5%88%B0%E7%AD%89%E5%8E%9F%E5%9B%A0%EF%BC%8C%E8%A2%AB%E7%B3%BB%E7%BB%9F%E5%BC%BA%E5%88%B6%E8%B0%83%E5%BA%A6%EF%BC%8C%E8%BF%9B%E8%80%8C%E5%8F%91%E7%94%9F%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E3%80%82%E6%AF%94%E5%A6%82%E8%AF%B4%EF%BC%8C%E5%A4%A7%E9%87%8F%E8%BF%9B%E7%A8%8B%E9%83%BD%E5%9C%A8%E4%BA%89%E6%8A%A2CPU%E6%97%B6%EF%BC%8C%E5%B0%B1%E5%AE%B9%E6%98%93%E5%8F%91%E7%94%9F%E9%9D%9E%E8%87%AA%E6%84%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E3%80%82%0A**%E9%87%8D%E8%B0%83%E5%BA%A6%E4%B8%AD%E6%96%AD%EF%BC%88RES%EF%BC%89**%EF%BC%8C%E8%BF%99%E4%B8%AA%E4%B8%AD%E6%96%AD%E7%B1%BB%E5%9E%8B%E8%A1%A8%E7%A4%BA%EF%BC%8C%E5%94%A4%E9%86%92%E7%A9%BA%E9%97%B2%E7%8A%B6%E6%80%81%E7%9A%84CPU%E6%9D%A5%E8%B0%83%E5%BA%A6%E6%96%B0%E7%9A%84%E4%BB%BB%E5%8A%A1%E8%BF%90%E8%A1%8C%E3%80%82%E8%BF%99%E6%98%AF%E5%A4%9A%E5%A4%84%E7%90%86%E5%99%A8%E7%B3%BB%E7%BB%9F%EF%BC%88SMP%EF%BC%89%E4%B8%AD%EF%BC%8C%20%E8%B0%83%E5%BA%A6%E5%99%A8%E7%94%A8%E6%9D%A5%E5%88%86%E6%95%A3%E4%BB%BB%E5%8A%A1%E5%88%B0%E4%B8%8D%E5%90%8CCPU%E7%9A%84%E6%9C%BA%E5%88%B6%EF%BC%8C%E9%80%9A%E5%B8%B8%E4%B9%9F%E8%A2%AB%E7%A7%B0%E4%B8%BA%60%E5%A4%84%E7%90%86%E5%99%A8%E9%97%B4%E4%B8%AD%E6%96%AD%EF%BC%88Inter-Processor%20Interrupts%EF%BC%8CIPI%EF%BC%89%60%E3%80%82%0A%0A1.%20%E8%87%AA%E6%84%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E5%8F%98%E5%A4%9A%E4%BA%86%EF%BC%8C%E8%AF%B4%E6%98%8E%E8%BF%9B%E7%A8%8B%E5%9C%A8%E7%AD%89%E5%BE%85%E8%B5%84%E6%BA%90%EF%BC%8C%E6%9C%89%E5%8F%AF%E8%83%BD%E5%8F%91%E7%94%9F%E4%BA%86I%2FO%E7%AD%89%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98%EF%BC%9B%0A2.%20%E9%9D%9E%E8%87%AA%E6%84%BF%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E8%9B%AE%E5%A4%9A%E4%BA%86%EF%BC%8C%E8%AF%B4%E6%98%8E%E8%BF%9B%E7%A8%8B%E9%83%BD%E5%9C%A8%E8%A2%AB%E5%BC%BA%E5%88%B6%E8%B0%83%E5%BA%A6%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E9%83%BD%E5%9C%A8%E4%BA%89%E6%8A%A2CPU%EF%BC%8C%E8%AF%B4%E6%98%8ECPU%E7%9A%84%E7%A1%AE%E6%88%90%E4%BA%86%E7%93%B6%E9%A2%88%EF%BC%9B%0A3.%20%E4%B8%AD%E6%96%AD%E6%AC%A1%E6%95%B0%E5%8F%98%E5%A4%9A%E4%BA%86%EF%BC%8C%E8%AF%B4%E6%98%8ECPU%E8%A2%AB%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E5%8D%A0%E7%94%A8%EF%BC%8C%E8%BF%98%E9%9C%80%E8%A6%81%E9%80%9A%E8%BF%87%E6%9F%A5%E7%9C%8B%2Fproc%2Finterrupts%E6%96%87%E4%BB%B6%E6%9D%A5%E5%88%86%E6%9E%90%E5%85%B7%E4%BD%93%E7%9A%84%E4%B8%AD%E6%96%AD%E7%B1%BB%E5%9E%8B%E3%80%82%0A%0A%23%23%23%20CPU%E4%BD%BF%E7%94%A8%E7%8E%87%0A**CPU%E4%BD%BF%E7%94%A8%E7%8E%87**%EF%BC%8C%E5%B0%B1%E6%98%AF%E9%99%A4%E4%BA%86%E7%A9%BA%E9%97%B2%E6%97%B6%E9%97%B4%E5%A4%96%E7%9A%84%E5%85%B6%E4%BB%96%E6%97%B6%E9%97%B4%E5%8D%A0%E6%80%BBCPU%E6%97%B6%E9%97%B4%E7%9A%84%E7%99%BE%E5%88%86%E6%AF%94%E3%80%82%0A%0Aperf%E5%B7%A5%E5%85%B7%0A%60%60%60%0A%24%20perf%20top%0ASamples%3A%20833%20%20of%20event%20'cpu-clock'%2C%20Event%20count%20(approx.)%3A%2097742399%0AOverhead%20%20Shared%20Object%20%20%20%20%20%20%20Symbol%0A%20%20%207.28%25%20%20perf%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B.%5D%200x00000000001f78a4%0A%20%20%204.72%25%20%20%5Bkernel%5D%20%20%20%20%20%20%20%20%20%20%20%20%5Bk%5D%20vsnprintf%0A%20%20%204.32%25%20%20%5Bkernel%5D%20%20%20%20%20%20%20%20%20%20%20%20%5Bk%5D%20module_get_kallsym%0A%20%20%203.65%25%20%20%5Bkernel%5D%20%20%20%20%20%20%20%20%20%20%20%20%5Bk%5D%20_raw_spin_unlock_irqrestore%0A...%0A%0A%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%9C%E4%B8%AD%EF%BC%8C%E7%AC%AC%E4%B8%80%E8%A1%8C%E5%8C%85%E5%90%AB%E4%B8%89%E4%B8%AA%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%88%86%E5%88%AB%20%E6%98%AF%E9%87%87%E6%A0%B7%E6%95%B0%EF%BC%88Samples%EF%BC%89%E3%80%81%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B%EF%BC%88event%EF%BC%89%E5%92%8C%E4%BA%8B%E4%BB%B6%E6%80%BB%E6%95%B0%E9%87%8F%EF%BC%88Event%20count%EF%BC%89%E3%80%82%0AOverhead%EF%BC%8C%E6%98%AF%E8%AF%A5%E7%AC%A6%E5%8F%B7%E7%9A%84%E6%80%A7%E8%83%BD%E4%BA%8B%E4%BB%B6%E5%9C%A8%E6%89%80%E6%9C%89%E9%87%87%E6%A0%B7%E4%B8%AD%E7%9A%84%E6%AF%94%E4%BE%8B%EF%BC%8C%E7%94%A8%E7%99%BE%E5%88%86%E6%AF%94%E6%9D%A5%E8%A1%A8%E7%A4%BA%E3%80%82%0AShared%EF%BC%8C%E6%98%AF%E8%AF%A5%E5%87%BD%E6%95%B0%E6%88%96%E6%8C%87%E4%BB%A4%E6%89%80%E5%9C%A8%E7%9A%84%E5%8A%A8%E6%80%81%E5%85%B1%E4%BA%AB%E5%AF%B9%E8%B1%A1%EF%BC%88Dynamic%20Shared%20Object%EF%BC%89%EF%BC%8C%E5%A6%82%E5%86%85%E6%A0%B8%E3%80%81%E8%BF%9B%E7%A8%8B%E5%90%8D%E3%80%81%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E5%90%8D%E3%80%81%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97%E5%90%8D%E7%AD%89%E3%80%82%0AObject%EF%BC%8C%E6%98%AF%E5%8A%A8%E6%80%81%E5%85%B1%E4%BA%AB%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%B1%BB%E5%9E%8B%E3%80%82%E6%AF%94%E5%A6%82%5B.%5D%E8%A1%A8%E7%A4%BA%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E7%9A%84%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%A8%8B%E5%BA%8F%E3%80%81%E6%88%96%E8%80%85%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%EF%BC%8C%E8%80%8C%5Bk%5D%E5%88%99%E8%A1%A8%E7%A4%BA%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E3%80%82%0ASymbol%EF%BC%8C%E6%98%AF%E7%AC%A6%E5%8F%B7%E5%90%8D%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E5%87%BD%E6%95%B0%E5%90%8D%E3%80%82%E5%BD%93%E5%87%BD%E6%95%B0%E5%90%8D%E6%9C%AA%E7%9F%A5%E6%97%B6%EF%BC%8C%E7%94%A8%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E7%9A%84%E5%9C%B0%E5%9D%80%E6%9D%A5%E8%A1%A8%E7%A4%BA%E3%80%82%0A%0Aperf%20record%EF%BC%8C%E6%8F%90%E4%BE%9B%E4%BA%86%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8A%9F%E8%83%BD%E3%80%82%0Aperf%20report%EF%BC%8C%E8%A7%A3%E6%9E%90%E4%BF%9D%E5%AD%98%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82%0A%60%60%60%0A%0A%E7%A2%B0%E5%88%B0CPU%E4%BD%BF%E7%94%A8%E7%8E%87%E5%BE%88%E9%AB%98%EF%BC%8C%E4%BD%86%E6%89%BE%E4%B8%8D%E5%88%B0%E9%AB%98CPU%E7%9A%84%E5%BA%94%E7%94%A8%E6%97%B6%EF%BC%8C%E9%A6%96%E5%85%88%E8%A6%81%E6%83%B3%E5%88%B0%E7%9A%84%E6%9C%89%E5%8F%AF%E8%83%BD%E6%98%AF%E7%9F%AD%E6%97%B6%E5%BA%94%E7%94%A8%E5%AF%BC%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%8C%E6%9C%89%E5%8F%AF%E8%83%BD%E6%98%AF%E4%B8%8B%E9%9D%A2%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%9A%0A1.%20%E5%BA%94%E7%94%A8%E9%87%8C%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8%E4%BA%86%E5%85%B6%E4%BB%96%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%A8%8B%E5%BA%8F%EF%BC%8C%E8%BF%99%E4%BA%9B%E7%A8%8B%E5%BA%8F%E9%80%9A%E5%B8%B8%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4%E6%AF%94%E8%BE%83%E7%9F%AD%EF%BC%8C%E9%80%9A%E8%BF%87top%E7%AD%89%E5%B7%A5%E5%85%B7%E4%B9%9F%E4%B8%8D%E5%AE%B9%E6%98%93%E5%8F%91%E7%8E%B0%E3%80%82%0A2.%20%E5%BA%94%E7%94%A8%E6%9C%AC%E8%BA%AB%E5%9C%A8%E4%B8%8D%E5%81%9C%E5%9C%B0%E5%B4%A9%E6%BA%83%E9%87%8D%E5%90%AF%EF%BC%8C%E8%80%8C%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B%E7%9A%84%E8%B5%84%E6%BA%90%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%8C%E5%BE%88%E5%8F%AF%E8%83%BD%E5%8D%A0%E7%94%A8%E7%9B%B8%E5%BD%93%E5%A4%9A%E7%9A%84CPU%E3%80%82%0A%0A%0A%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%0A*%20R%E6%98%AFRunning%E6%88%96Runnable%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%BF%9B%E7%A8%8B%E5%9C%A8CPU%E7%9A%84%E5%B0%B1%E7%BB%AA%E9%98%9F%E5%88%97%E4%B8%AD%EF%BC%8C%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C%E6%88%96%E6%AD%A3%E5%9C%A8%E7%AD%89%E5%BE%85%E8%BF%90%E8%A1%8C%E3%80%82%0A*%20D%E6%98%AFDisk%20sleep%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E4%B8%8D%E5%8F%AF%E4%B8%AD%E6%96%AD%E7%8A%B6%E6%80%81%E7%9D%A1%E7%9C%A0%EF%BC%88Uninterruptible%20Sleep%EF%BC%89%EF%BC%8C%E4%B8%80%E8%88%AC%E8%A1%A8%E7%A4%BA%E8%BF%9B%E7%A8%8B%E6%AD%A3%E5%9C%A8%E8%B7%9F%E7%A1%AC%E4%BB%B6%E4%BA%A4%E4%BA%92%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B%E4%B8%8D%E5%85%81%E8%AE%B8%E8%A2%AB%E5%85%B6%E4%BB%96%E8%BF%9B%E7%A8%8B%E6%88%96%E4%B8%AD%E6%96%AD%E6%89%93%E6%96%AD%E3%80%82%0A*%20Z%E6%98%AFZombie%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E5%AE%83%E8%A1%A8%E7%A4%BA%E5%83%B5%E5%B0%B8%E8%BF%9B%E7%A8%8B%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%BF%9B%E7%A8%8B%E5%AE%9E%E9%99%85%E4%B8%8A%E5%B7%B2%E7%BB%8F%E7%BB%93%E6%9D%9F%E4%BA%86%EF%BC%8C%E4%BD%86%E6%98%AF%E7%88%B6%E8%BF%9B%E7%A8%8B%E8%BF%98%E6%B2%A1%E6%9C%89%E5%9B%9E%E6%94%B6%E5%AE%83%E7%9A%84%E8%B5%84%E6%BA%90%EF%BC%88%E6%AF%94%E5%A6%82%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8F%8F%E8%BF%B0%E7%AC%A6%E3%80%81PID%E7%AD%89%EF%BC%89%E3%80%82%0A*%20S%E6%98%AFInterruptible%20Sleep%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E5%8F%AF%E4%B8%AD%E6%96%AD%E7%8A%B6%E6%80%81%E7%9D%A1%E7%9C%A0%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%BF%9B%E7%A8%8B%E5%9B%A0%E4%B8%BA%E6%9F%90%E4%B8%AA%E4%BA%8B%E4%BB%B6%E8%80%8C%E8%A2%AB%E7%B3%BB%E7%BB%9F%E6%8C%82%E8%B5%B7%E3%80%82%E5%BD%93%E8%BF%9B%E7%A8%8B%E7%AD%89%E5%BE%85%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%8F%91%E7%94%9F%E6%97%B6%EF%BC%8C%E5%AE%83%E4%BC%9A%E8%A2%AB%E5%94%A4%E9%86%92%E5%B9%B6%E8%BF%9B%E5%85%A5R%E7%8A%B6%E6%80%81%E3%80%82%0A*%20I%E6%98%AFIdle%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E7%A9%BA%E9%97%B2%E7%8A%B6%E6%80%81%EF%BC%8C%E7%94%A8%E5%9C%A8%E4%B8%8D%E5%8F%AF%E4%B8%AD%E6%96%AD%E7%9D%A1%E7%9C%A0%E7%9A%84%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E4%B8%8A%E3%80%82%E5%89%8D%E9%9D%A2%E8%AF%B4%E4%BA%86%EF%BC%8C%E7%A1%AC%E4%BB%B6%E4%BA%A4%E4%BA%92%E5%AF%BC%E8%87%B4%E7%9A%84%E4%B8%8D%E5%8F%AF%E4%B8%AD%E6%96%AD%E8%BF%9B%E7%A8%8B%E7%94%A8D%E8%A1%A8%E7%A4%BA%EF%BC%8C%E4%BD%86%E5%AF%B9%E6%9F%90%E4%BA%9B%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E6%9D%A5%E8%AF%B4%EF%BC%8C%E5%AE%83%E4%BB%AC%E6%9C%89%E5%8F%AF%E8%83%BD%E5%AE%9E%E9%99%85%E5%B9%B6%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95%E8%B4%9F%E8%BD%BD%EF%BC%8C%E7%94%A8Idle%E6%AD%A3%E6%98%AF%E4%B8%BA%E4%BA%86%E5%8C%BA%E5%88%86%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E3%80%82%E8%A6%81%E6%B3%A8%E6%84%8F%EF%BC%8CD%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%E5%8D%87%E9%AB%98%EF%BC%8CI%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%8D%B4%E4%B8%8D%E4%BC%9A%E3%80%82%0A*%20T%E6%88%96%E8%80%85t%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AFStopped%E6%88%96Traced%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%BF%9B%E7%A8%8B%E5%A4%84%E4%BA%8E%E6%9A%82%E5%81%9C%E6%88%96%E8%80%85%E8%B7%9F%E8%B8%AA%E7%8A%B6%E6%80%81%E3%80%82%0A*%20X%E4%B9%9F%E5%B0%B1%E6%98%AFDead%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%BF%9B%E7%A8%8B%E5%B7%B2%E7%BB%8F%E6%B6%88%E4%BA%A1%EF%BC%8C%E6%89%80%E4%BB%A5%E4%BD%A0%E4%B8%8D%E4%BC%9A%E5%9C%A8top%E6%88%96%E8%80%85ps%E5%91%BD%E4%BB%A4%E4%B8%AD%E7%9C%8B%E5%88%B0%E5%AE%83%E3%80%82%0A%0A%23%23%20%E8%BD%AF%E4%B8%AD%E6%96%AD%0A%E4%B8%AD%E6%96%AD%E6%98%AF%E4%B8%80%E7%A7%8D%E5%BC%82%E6%AD%A5%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8F%90%E9%AB%98%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B9%B6%E5%8F%91%E5%A4%84%E7%90%86%E8%83%BD%E5%8A%9B%E3%80%82%0A%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B%E5%88%86%E6%88%90%E4%BA%86%E4%B8%A4%E4%B8%AA%E9%98%B6%E6%AE%B5%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%60%E4%B8%8A%E5%8D%8A%E9%83%A8%E5%92%8C%E4%B8%8B%E5%8D%8A%E9%83%A8%60%EF%BC%9A%0A*%20%60%E4%B8%8A%E5%8D%8A%E9%83%A8%60%E7%94%A8%E6%9D%A5%E5%BF%AB%E9%80%9F%E5%A4%84%E7%90%86%E4%B8%AD%E6%96%AD%EF%BC%8C%E5%AE%83%E5%9C%A8%E4%B8%AD%E6%96%AD%E7%A6%81%E6%AD%A2%E6%A8%A1%E5%BC%8F%E4%B8%8B%E8%BF%90%E8%A1%8C%EF%BC%8C%E4%B8%BB%E8%A6%81%E5%A4%84%E7%90%86%E8%B7%9F%E7%A1%AC%E4%BB%B6%E7%B4%A7%E5%AF%86%E7%9B%B8%E5%85%B3%E6%88%96%E6%97%B6%E9%97%B4%E6%95%8F%E6%84%9F%E7%9A%84%E5%B7%A5%E4%BD%9C%E3%80%82%0A*%20%60%E4%B8%8B%E5%8D%8A%E9%83%A8%60%E7%94%A8%E6%9D%A5%E5%BB%B6%E8%BF%9F%E5%A4%84%E7%90%86%E4%B8%8A%E5%8D%8A%E9%83%A8%E6%9C%AA%E5%AE%8C%E6%88%90%E7%9A%84%E5%B7%A5%E4%BD%9C%EF%BC%8C%E9%80%9A%E5%B8%B8%E4%BB%A5%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%E8%BF%90%E8%A1%8C%E3%80%82%0A%0A%3E%20%E4%BB%A5%E7%BD%91%E5%8D%A1%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE%E5%8C%85%E4%B8%BA%E4%BE%8B%EF%BC%9A%0A%3E%20%E7%BD%91%E5%8D%A1%E6%8E%A5%E6%94%B6%E5%88%B0%E6%95%B0%E6%8D%AE%E5%8C%85%E5%90%8E%EF%BC%8C%E4%BC%9A%E9%80%9A%E8%BF%87%E7%A1%AC%E4%BB%B6%E4%B8%AD%E6%96%AD%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E9%80%9A%E7%9F%A5%E5%86%85%E6%A0%B8%E6%9C%89%E6%96%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E5%88%B0%E4%BA%86%E3%80%82%E8%BF%99%E6%97%B6%EF%BC%8C%E5%86%85%E6%A0%B8%E5%BA%94%E8%AF%A5%E8%B0%83%E7%94%A8%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E6%9D%A5%E5%93%8D%E5%BA%94%E5%AE%83%E3%80%82%0A%3E%20%E5%AF%B9%E4%BA%8E%E4%B8%8A%E5%8D%8A%E9%83%A8%E6%9D%A5%E8%AF%B4%EF%BC%8C%E6%97%A2%E7%84%B6%E6%98%AF%E5%BF%AB%E9%80%9F%E5%A4%84%E7%90%86%EF%BC%8C%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E6%8A%8A%E7%BD%91%E5%8D%A1%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%88%B0%E5%86%85%E5%AD%98%E4%B8%AD%EF%BC%8C%E7%84%B6%E5%90%8E%E6%9B%B4%E6%96%B0%E4%B8%80%E4%B8%8B%E7%A1%AC%E4%BB%B6%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E7%8A%B6%E6%80%81%EF%BC%88%E8%A1%A8%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%B7%B2%E7%BB%8F%E8%AF%BB%E5%A5%BD%E4%BA%86%EF%BC%89%EF%BC%8C%E6%9C%80%E5%90%8E%E5%86%8D%E5%8F%91%E9%80%81%E4%B8%80%E4%B8%AA%E8%BD%AF%E4%B8%AD%E6%96%AD%E4%BF%A1%E5%8F%B7%EF%BC%8C%E9%80%9A%E7%9F%A5%E4%B8%8B%E5%8D%8A%E9%83%A8%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%A4%84%E7%90%86%E3%80%82%0A%3E%20%E8%80%8C%E4%B8%8B%E5%8D%8A%E9%83%A8%E8%A2%AB%E8%BD%AF%E4%B8%AD%E6%96%AD%E5%94%A4%E9%86%92%E5%90%8E%EF%BC%8C%E9%9C%80%E8%A6%81%E4%BB%8E%E5%86%85%E5%AD%98%E4%B8%AD%E6%89%BE%E5%88%B0%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%86%8D%E6%8C%89%E7%85%A7%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%EF%BC%8C%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E9%80%90%E5%B1%82%E8%A7%A3%E6%9E%90%E5%92%8C%E5%A4%84%E7%90%86%EF%BC%8C%E7%9B%B4%E5%88%B0%E6%8A%8A%E5%AE%83%E9%80%81%E7%BB%99%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E3%80%82%0A%0A*%20%E4%B8%8A%E5%8D%8A%E9%83%A8%E7%9B%B4%E6%8E%A5%E5%A4%84%E7%90%86%E7%A1%AC%E4%BB%B6%E8%AF%B7%E6%B1%82%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E6%88%91%E4%BB%AC%E5%B8%B8%E8%AF%B4%E7%9A%84%E7%A1%AC%E4%B8%AD%E6%96%AD%EF%BC%8C%E7%89%B9%E7%82%B9%E6%98%AF%E5%BF%AB%E9%80%9F%E6%89%A7%E8%A1%8C%E3%80%82%0A*%20%E4%B8%8B%E5%8D%8A%E9%83%A8%E5%88%99%E6%98%AF%E7%94%B1%E5%86%85%E6%A0%B8%E8%A7%A6%E5%8F%91%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E6%88%91%E4%BB%AC%E5%B8%B8%E8%AF%B4%E7%9A%84%E8%BD%AF%E4%B8%AD%E6%96%AD%EF%BC%8C%E7%89%B9%E7%82%B9%E6%98%AF%E5%BB%B6%E8%BF%9F%E6%89%A7%E8%A1%8C%E3%80%82%0A%0A%23%23%23%20%E6%9F%A5%E7%9C%8B%E8%BD%AF%E4%B8%AD%E6%96%AD%E5%92%8C%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%0A*%20%60%2Fproc%2Fsoftirqs%60%E6%8F%90%E4%BE%9B%E4%BA%86%E8%BD%AF%E4%B8%AD%E6%96%AD%E7%9A%84%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5%E3%80%82%0A*%20%60%2Fproc%2Finterrupts%60%E6%8F%90%E4%BE%9B%E4%BA%86%E7%A1%AC%E4%B8%AD%E6%96%AD%E7%9A%84%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5%E3%80%82%0A%0A**%E6%A0%B9%E6%8D%AE%E6%8C%87%E6%A0%87%E6%89%BE%E5%B7%A5%E5%85%B7**%0A%7C%20%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%20%7C%20%E5%B7%A5%E5%85%B7%20%7C%20%E8%AF%B4%E6%98%8E%20%7C%0A%7C%20---%20%7C%20---%20%7C%20---%20%7C%0A%7C%20%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%20%7C%20uptime%2C%20top%20%7C%20uptime%E6%9F%A5%E7%9C%8BCPU%E8%B4%9F%E8%BD%BD%3Btop%E6%8F%90%E4%BE%9B%E4%BA%86%E6%9B%B4%E5%85%A8%E7%9A%84%E6%8C%87%E6%A0%87%20%7C%0A%7C%20%E7%B3%BB%E7%BB%9F%E6%95%B4%E4%BD%93CPU%E4%BD%BF%E7%94%A8%E7%8E%87%20%7C%20vmstat%2C%20mpstat%2C%20top%2C%20sar%2C%20%2Fproc%2Fstat%20%7C%20top%E3%80%81vmstat%E3%80%81mpstat%E5%8F%AA%E5%8F%AF%E4%BB%A5%E5%8A%A8%E6%80%81%E6%9F%A5%E7%9C%8B%EF%BC%8C%E8%80%8Csar%E8%BF%98%E5%8F%AF%E4%BB%A5%E8%AE%B0%E5%BD%95%E5%8E%86%E5%8F%B2%E6%95%B0%E6%8D%AE%EF%BC%8C%2Fproc%2Fstat%E6%98%AF%E5%85%B6%E4%BB%96%E6%80%A7%E8%83%BD%E5%B7%A5%E5%85%B7%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90%20%7C%0A%7C%20%E8%BF%9B%E7%A8%8BCPU%E4%BD%BF%E7%94%A8%E7%8E%87%20%7C%20top%2C%20pidstat%2C%20ps%2C%20htop%2C%20atop%20%7C%20top%E5%92%8Cps%E5%8F%AF%E4%BB%A5%E6%8C%89CPU%E4%BD%BF%E7%94%A8%E7%8E%87%E7%BB%99%E8%BF%9B%E7%A8%8B%E6%8E%92%E5%BA%8F%EF%BC%8C%E8%80%8Cpidstat%E5%8F%AA%E6%98%BE%E7%A4%BA%E5%AE%9E%E9%99%85%E7%94%A8%E4%BA%86CPU%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%8Chtop%E5%92%8Catop%E4%BB%A5%E4%B8%8D%E5%90%8C%E9%A2%9C%E8%89%B2%E6%98%BE%E7%A4%BA%E6%9B%B4%E7%9B%B4%E8%A7%82%20%7C%0A%7C%20%E7%B3%BB%E7%BB%9F%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%20%7C%20vmstat%20%7C%20%E9%99%A4%E4%BA%86%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E6%AC%A1%E6%95%B0%EF%BC%8C%E8%BF%98%E6%8F%90%E4%BE%9B%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81%E5%92%8C%E4%B8%8D%E5%8F%AF%E4%BB%A5%E4%B8%AD%E6%96%AD%E7%8A%B6%E6%80%81%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%95%B0%E9%87%8F%20%7C%0A%7C%20%E8%BF%9B%E7%A8%8B%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%20%7C%20pidstat%20%7C%20%E6%B3%A8%E6%84%8F%E5%8A%A0%E4%B8%8A-w%E9%80%89%E9%A1%B9%20%7C%0A%7C%20%E8%BD%AF%E4%B8%AD%E6%96%AD%20%7C%20top%2C%20%2Fproc%2Fsoftirqs%2C%20mpstat%20%7C%20top%E6%8F%90%E4%BE%9B%E8%BD%AF%E4%B8%AD%E6%96%ADCPU%E4%BD%BF%E7%94%A8%E7%8E%87%EF%BC%8C%E8%80%8C%2Fproc%2Fsoftirqs%E5%92%8Cmpstat%E6%8F%90%E4%BE%9B%E4%BA%86%E5%90%84%E7%A7%8D%E8%BD%AF%E4%B8%AD%E6%96%AD%E5%9C%A8%E6%AF%8F%E4%B8%AACPU%E4%B8%8A%E7%9A%84%E8%BF%90%E8%A1%8C%E6%AC%A1%E6%95%B0%20%7C%0A%7C%20%E7%A1%AC%E4%B8%AD%E6%96%AD%20%7C%20vmstat%2C%20%2Fproc%2Finterrupts%20%7C%20vmstat%E6%8F%90%E4%BE%9B%E6%80%BB%E7%9A%84%E4%B8%AD%E6%96%AD%E6%AC%A1%E6%95%B0%EF%BC%8C%E8%80%8C%2Fproc%2Finterrupts%E6%8F%90%E4%BE%9B%E5%90%84%E7%A7%8D%E4%B8%AD%E6%96%AD%E5%9C%A8%E6%AF%8F%E4%B8%AACPU%E8%BF%90%E8%A1%8C%E7%9A%84%E7%B4%AF%E7%A7%AF%E6%95%B0%20%7C%0A%7C%20%E7%BD%91%E7%BB%9C%20%7C%20dstat%2C%20sar%2C%20tcpdump%20%7C%20dstat%E5%92%8Csar%E6%8F%90%E4%BE%9B%E6%80%BB%E7%9A%84%E7%BD%91%E7%BB%9C%E6%8E%A5%E6%94%B6%E5%92%8C%E5%8F%91%E9%80%81%E6%83%85%E5%86%B5%EF%BC%8C%E8%80%8Ctcpdump%E5%88%99%E6%98%AF%E5%8A%A8%E6%80%81%E6%8A%93%E5%8F%96%E6%AD%A3%E5%9C%A8%E8%BF%9B%E8%A1%8C%E7%9A%84%E7%BD%91%E7%BB%9C%E9%80%9A%E8%AE%AF%20%7C%0A%7C%20I%2FO%20%7C%20dstat%2C%20sar%20%7C%20dstat%E5%92%8Csar%E8%BF%9B%E4%BA%86%E6%8F%90%E4%BE%9B%E4%BA%86I%2FO%E7%9A%84%E6%95%B4%E4%BD%93%E6%83%85%E5%86%B5%20%7C%0A%7C%20CPU%E4%B8%AA%E6%95%B0%20%7C%20%2Fproc%2Fcpuinfo%2C%20lscpu%20%7C%20lscpu%E6%9B%B4%E7%9B%B4%E8%A7%82%20%7C%0A%7C%20%E4%BA%8B%E4%BB%B6%E5%89%96%E6%9E%90%20%7C%20perf%2C%20execsnoop%20%7C%20perf%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%9D%A5%E5%88%86%E6%9E%90CPU%E7%BC%93%E5%AD%98%E4%BB%A5%E5%8F%8A%E5%86%85%E6%A0%B8%E8%B0%83%E7%94%A8%E9%93%BE%EF%BC%8Cexecsnoop%E7%94%A8%E6%9D%A5%E7%9B%91%E6%8E%A7%E7%9F%AD%E6%97%B6%E8%BF%9B%E7%A8%8B%20%7C%0A%0A**%E6%A0%B9%E6%8D%AE%E5%B7%A5%E5%85%B7%E6%9F%A5%E7%9C%8B%E6%8C%87%E6%A0%87%EF%BC%88CPU%E6%80%A7%E8%83%BD%EF%BC%89**%0A%0A%7C%20%E6%80%A7%E8%83%BD%E5%B7%A5%E5%85%B7%20%7C%20CPU%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%20%7C%0A%7C%20---%20%7C%20---%20%7C%0A%7C%20uptime%20%7C%20%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%20%7C%0A%7C%20top%20%7C%20%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD%E3%80%81%E8%BF%90%E8%A1%8C%E9%98%9F%E5%88%97%E3%80%81%E6%95%B4%E4%BD%93%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E7%8E%87%E4%BB%A5%E5%8F%8A%E6%AF%8F%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E5%92%8CCPU%E4%BD%BF%E7%94%A8%E7%8E%87%20%7C%0A%7C%20htop%20%7C%20top%E5%A2%9E%E5%BC%BA%E7%89%88%EF%BC%8C%E4%BB%A5%E4%B8%8D%E5%90%8C%E9%A2%9C%E8%89%B2%E5%8C%BA%E5%88%86%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%9B%B4%E7%9B%B4%E8%A7%82%20%7C%0A%7C%20atop%20%7C%20CPU%E3%80%81%E5%86%85%E5%AD%98%E3%80%81%E7%A3%81%E7%9B%98%E5%92%8C%E7%BD%91%E7%BB%9C%E7%AD%89%E5%90%84%E7%A7%8D%E8%B5%84%E6%BA%90%E7%9A%84%E5%85%A8%E9%9D%A2%E7%9B%91%E6%8E%A7%20%7C%0A%7C%20vmstat%20%7C%20%E7%B3%BB%E7%BB%9F%E6%95%B4%E4%BD%93%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E7%8E%87%E3%80%81%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E6%AC%A1%E6%95%B0%E3%80%81%E4%B8%AD%E6%96%AD%E6%AC%A1%E6%95%B0%EF%BC%8C%E8%BF%98%E5%8C%85%E6%8B%AC%E5%A4%84%E4%BA%8E%E8%BF%90%E8%A1%8C%E5%92%8C%E4%B8%8D%E5%8F%AF%E4%B8%AD%E6%96%AD%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%9B%E7%A8%8B%E6%95%B0%E9%87%8F%20%7C%0A%7C%20mpstat%20%7C%20%E6%AF%8F%E4%B8%AACPU%E7%9A%84%E4%BD%BF%E7%94%A8%E7%8E%87%E5%92%8C%E8%BD%AF%E4%B8%AD%E6%96%AD%E6%AC%A1%E6%95%B0%20%7C%0A%7C%20pidstat%20%7C%20%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E7%8E%87%E3%80%81%E4%B8%AD%E6%96%AD%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E6%AC%A1%E6%95%B0%20%7C%0A%7C%20%2Fproc%2Fsoftirqs%20%7C%20%E8%BD%AF%E4%B8%AD%E6%96%AD%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%9C%A8%E6%AF%8F%E4%B8%AACPU%E4%B8%8A%E7%9A%84%E7%B4%AF%E7%A7%AF%E4%B8%AD%E6%96%AD%E6%AC%A1%E6%95%B0%20%7C%0A%7C%20%2Fproc%2Finterrupts%20%7C%20%E7%A1%AC%E4%B8%AD%E6%96%AD%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%9C%A8%E6%AF%8F%E4%B8%AACPU%E4%B8%8A%E7%9A%84%E7%B4%AF%E7%A7%AF%E4%B8%AD%E6%96%AD%E6%AC%A1%E6%95%B0%20%7C%0A%7C%20ps%20%7C%20%E6%AF%8F%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E5%92%8CCPU%E4%BD%BF%E7%94%A8%E7%8E%87%20%7C%0A%7C%20pstree%20%7C%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB%20%7C%0A%7C%20dstat%20%7C%20%E7%B3%BB%E7%BB%9F%E6%95%B4%E4%BD%93%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E7%8E%87%20%7C%0A%7C%20sar%20%7C%20%E7%B3%BB%E7%BB%9F%E6%95%B4%E4%BD%93%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E7%8E%87%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%8F%AF%E9%85%8D%E7%BD%AE%E7%9A%84%E5%8E%86%E5%8F%B2%E6%95%B0%E6%8D%AE%20%7C%0A%7C%20strace%20%7C%20%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%20%7C%0A%7C%20perf%20%7C%20CPU%E6%80%A7%E8%83%BD%E4%BA%8B%E4%BB%B6%E5%89%96%E6%9E%90%EF%BC%8C%E5%A6%82%E8%B0%83%E7%94%A8%E9%93%BE%E5%88%86%E6%9E%90%E3%80%81CPU%E7%BC%93%E5%AD%98%E3%80%81CPUy%E8%B0%83%E5%BA%A6%E7%AD%89%20%7C%0A%7C%20execsnoop%20%7C%20%E7%9B%91%E6%8E%A7%E7%9F%AD%E6%97%B6%E8%BF%9B%E7%A8%8B%20%7C%0A%0A%E4%BB%8Etop%E3%80%81vmstat%E3%80%81pidstat%E5%85%A5%E6%89%8B%E5%88%86%E6%9E%90%EF%BC%9A%0A!%5B7a445960a4bc0a58a02e1bc75648aa17.png%5D(en-resource%3A%2F%2Fdatabase%2F2237%3A1)%0A%0A%23%23%20%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%0A%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0%60%E4%B8%89%E6%AD%A5%E8%B5%B0%60%EF%BC%9A%0A1.%20%E7%A1%AE%E5%AE%9A%E6%80%A7%E8%83%BD%E7%9A%84%E9%87%8F%E5%8C%96%E6%8C%87%E6%A0%87%E3%80%82%0A2.%20%E6%B5%8B%E8%AF%95%E4%BC%98%E5%8C%96%E5%89%8D%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E3%80%82%0A3.%20%E6%B5%8B%E8%AF%95%E4%BC%98%E5%8C%96%E5%90%8E%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E3%80%82%0A%0A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8D%E8%A6%81%E5%B1%80%E9%99%90%E5%9C%A8%E5%8D%95%E4%B8%80%E7%9A%84%E7%BB%B4%E5%BA%A6%E7%9A%84%E6%8C%87%E6%A0%87%E4%B8%8A%EF%BC%8C%E8%87%B3%E5%B0%91%E8%A6%81%E4%BB%8E%60%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%60%E5%92%8C%60%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%60%E8%BF%99%E4%B8%A4%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E5%88%86%E5%88%AB%E9%80%89%E6%8B%A9%E4%B8%8D%E5%90%8C%E7%9A%84%E6%8C%87%E6%A0%87%E3%80%82%0A%0A%23%23%23%20CPU%E4%BC%98%E5%8C%96%0A%23%23%23%23%20%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BC%98%E5%8C%96%0A%E4%BB%8E%60%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%60%E7%9A%84%E8%A7%92%E5%BA%A6%E6%9D%A5%E8%AF%B4%EF%BC%8C%E9%99%8D%E4%BD%8ECPU%E4%BD%BF%E7%94%A8%E7%8E%87%E7%9A%84%E6%9C%80%E5%A5%BD%E6%96%B9%E6%B3%95%E5%BD%93%E7%84%B6%E6%98%AF%EF%BC%8C%E6%8E%92%E9%99%A4%E6%89%80%E6%9C%89%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%84%E5%B7%A5%E4%BD%9C%EF%BC%8C%E5%8F%AA%E4%BF%9D%E7%95%99%E6%9C%80%E6%A0%B8%E5%BF%83%E7%9A%84%E9%80%BB%E8%BE%91%E3%80%82%E6%AF%94%E5%A6%82%E5%87%8F%E5%B0%91%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%B1%82%E6%AC%A1%E3%80%81%E5%87%8F%E5%B0%91%E9%80%92%E5%BD%92%E3%80%81%E5%87%8F%E5%B0%91%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%89%E3%80%82%0A*%20**%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96**%EF%BC%9A%E5%BE%88%E5%A4%9A%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%9A%E6%8F%90%E4%BE%9B%E4%BC%98%E5%8C%96%E9%80%89%E9%A1%B9%EF%BC%8C%E9%80%82%E5%BD%93%E5%BC%80%E5%90%AF%E5%AE%83%E4%BB%AC%EF%BC%8C%E5%9C%A8%E7%BC%96%E8%AF%91%E9%98%B6%E6%AE%B5%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%BE%97%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E5%B8%AE%E5%8A%A9%EF%BC%8C%E6%9D%A5%E6%8F%90%E5%8D%87%E6%80%A7%E8%83%BD%E3%80%82%E6%AF%94%E5%A6%82%EF%BC%8Cgcc%E6%8F%90%E4%BE%9B%E4%BC%98%E5%8C%96%E9%80%89%E9%A1%B9-O2%EF%BC%8C%E5%BC%80%E5%90%AF%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%AF%B9%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%BB%A3%E7%A0%81%E8%BF%9B%E8%A1%8C%E4%BC%98%E5%8C%96%E3%80%82%0A*%20**%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96**%EF%BC%9A%E4%BD%BF%E7%94%A8%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%9B%B4%E4%BD%8E%E7%9A%84%E7%AE%97%E6%B3%95%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%98%BE%E8%91%97%E5%8A%A0%E5%BF%AB%E5%A4%84%E7%90%86%E9%80%9F%E5%BA%A6%E3%80%82%E6%AF%94%E5%A6%82%EF%BC%8C%E5%9C%A8%E6%95%B0%E6%8D%AE%E6%AF%94%E8%BE%83%E5%A4%A7%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%94%A8O(nlogn)%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%EF%BC%88%E5%A6%82%E5%BF%AB%E6%8E%92%E3%80%81%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%AD%89%EF%BC%89%EF%BC%8C%E4%BB%A3%E6%9B%BFO(n%5E2)%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%EF%BC%88%E5%A6%82%E5%86%92%E6%B3%A1%E3%80%81%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%AD%89%EF%BC%89%E3%80%82%0A*%20**%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86**%EF%BC%9A%E4%BD%BF%E7%94%A8%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%81%BF%E5%85%8D%E7%A8%8B%E5%BA%8F%E7%A8%8B%E5%BA%8F%E5%9B%A0%E7%AD%89%E5%BE%85%E6%9F%90%E4%B8%AA%E8%B5%84%E6%BA%90%E8%80%8C%E4%B8%80%E7%9B%B4%E9%98%BB%E5%A1%9E%EF%BC%8C%E4%BB%8E%E8%80%8C%E6%8F%90%E5%8D%87%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%B9%B6%E5%8F%91%E8%83%BD%E5%8A%9B%E3%80%82%0A*%20**%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BB%A3%E6%9B%BF%E5%A4%9A%E8%BF%9B%E7%A8%8B**%EF%BC%9A%E7%9B%B8%E5%AF%B9%E4%BA%8E%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%EF%BC%8C%E7%BA%BF%E7%A8%8B%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E5%B9%B6%E4%B8%8D%E5%88%87%E6%8D%A2%E8%BF%9B%E7%A8%8B%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%8F%AF%E4%BB%A5%E9%99%8D%E4%BD%8E%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E7%9A%84%E6%88%90%E6%9C%AC%E3%80%82%0A*%20**%E5%96%84%E7%94%A8%E7%BC%93%E5%AD%98**%EF%BC%9A%E7%BB%8F%E5%B8%B8%E8%AE%BF%E9%97%AE%E6%88%96%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E6%AD%A5%E9%AA%A4%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%94%BE%E5%88%B0%E5%86%85%E5%AD%98%E4%B8%AD%E7%BC%93%E5%AD%98%E8%B5%B7%E6%9D%A5%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%9C%A8%E4%B8%8B%E6%AC%A1%E7%94%A8%E6%97%B6%E5%B0%B1%E8%83%BD%E7%9B%B4%E6%8E%A5%E4%BB%8E%E5%86%85%E5%AD%98%E4%B8%AD%E8%8E%B7%E5%8F%96%EF%BC%8C%E5%8A%A0%E5%BF%AB%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%A4%84%E7%90%86%E9%80%9F%E5%BA%A6%E3%80%82%0A%23%23%23%23%20%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96%0A%E4%BB%8E%60%E7%B3%BB%E7%BB%9F%60%E7%9A%84%E8%A7%92%E5%BA%A6%E6%9D%A5%E8%AF%B4%EF%BC%8C%E4%BC%98%E5%8C%96CPU%E7%9A%84%E8%BF%90%E8%A1%8C%EF%BC%8C%E4%B8%80%E6%96%B9%E9%9D%A2%E8%A6%81%E5%85%85%E5%88%86%E5%88%A9%E7%94%A8CPU%E7%BC%93%E5%AD%98%E7%9A%84%E6%9C%AC%E5%9C%B0%E6%80%A7%EF%BC%8C%E5%8A%A0%E9%80%9F%E7%BC%93%E5%AD%98%E8%AE%BF%E9%97%AE%EF%BC%9B%E5%8F%A6%E4%B8%80%E6%96%B9%E9%9D%A2%EF%BC%8C%E5%B0%B1%E6%98%AF%E8%A6%81%E6%8E%A7%E5%88%B6%E8%BF%9B%E7%A8%8B%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%8C%E5%87%8F%E5%B0%91%E8%BF%9B%E7%A8%8B%E9%97%B4%E7%9A%84%E7%9B%B8%E4%BA%92%E5%BD%B1%E5%93%8D%E3%80%82%0A*%20**CPU%E7%BB%91%E5%AE%9A**%EF%BC%9A%E6%8A%8A%E8%BF%9B%E7%A8%8B%E7%BB%91%E5%AE%9A%E5%88%B0%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AACPU%E4%B8%8A%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%8F%90%E9%AB%98CPU%E7%BC%93%E5%AD%98%E7%9A%84%E5%91%BD%E4%B8%AD%E7%8E%87%EF%BC%8C%E5%87%8F%E5%B0%91%E8%B7%A8CPU%E8%B0%83%E5%BA%A6%E5%B8%A6%E6%9D%A5%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2%E9%97%AE%E9%A2%98%E3%80%82%0A*%20**CPU%E7%8B%AC%E5%8D%A0**%EF%BC%9A%E8%B7%9FCPU%E7%BB%91%E5%AE%9A%E7%B1%BB%E4%BC%BC%EF%BC%8C%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%B0%86CPU%E5%88%86%E7%BB%84%EF%BC%8C%E5%B9%B6%E9%80%9A%E8%BF%87CPU%E4%BA%B2%E5%92%8C%E6%80%A7%E6%9C%BA%E5%88%B6%E4%B8%BA%E5%85%B6%E5%88%86%E9%85%8D%E8%BF%9B%E7%A8%8B%E3%80%82%E8%BF%99%E6%A0%B7%EF%BC%8CCPU%E5%B0%B1%E7%94%B1%E6%8C%87%E5%AE%9A%E7%9A%84%E8%BF%9B%E7%A8%8B%E7%8B%AC%E5%8D%A0%E3%80%82%0A*%20**%E4%BC%98%E5%85%88%E7%BA%A7%E8%B0%83%E6%95%B4**%EF%BC%9A%E4%BD%BF%E7%94%A8nice%E8%B0%83%E6%95%B4%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BC%98%E5%8C%96%E7%BA%A7%EF%BC%8C%E6%AD%A3%E5%80%BC%E9%AB%98%E4%BD%8E%E4%BC%98%E5%85%88%E7%BA%A7%EF%BC%8C%E8%B4%9F%E5%80%BC%E8%B0%83%E9%AB%98%E4%BC%98%E5%85%88%E7%BA%A7%E3%80%82%E9%80%82%E5%BD%93%E9%99%8D%E4%BD%8E%E9%9D%9E%E6%A0%B8%E5%BF%83%E5%BA%94%E7%94%A8%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%EF%BC%8C%E5%A2%9E%E9%AB%98%E6%A0%B8%E5%BF%83%E5%BA%94%E7%94%A8%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%A1%AE%E4%BF%9D%E6%A0%B8%E5%BF%83%E5%BA%94%E7%94%A8%E5%BE%97%E5%88%B0%E4%BC%98%E5%85%88%E5%A4%84%E7%90%86%E3%80%82%0A*%20**%E4%B8%BA%E8%BF%9B%E7%A8%8B%E8%AE%BE%E7%BD%AE%E8%B5%84%E6%BA%90%E9%99%90%E5%88%B6**%EF%BC%9A%E4%BD%BF%E7%94%A8Linux%20cgroups%E6%9D%A5%E8%AE%BE%E7%BD%AE%E8%BF%9B%E7%A8%8B%E7%9A%84CPU%E4%BD%BF%E7%94%A8%E4%B8%8A%E9%99%90%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%98%B2%E6%AD%A2%E7%94%B1%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%BA%94%E7%94%A8%E8%87%AA%E8%BA%AB%E9%97%AE%E9%A2%98%EF%BC%8C%E8%80%8C%E8%80%97%E5%B0%BD%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E3%80%82%0A*%20**NUMA%EF%BC%88Non-uniform%20Memory%20Access%EF%BC%89%E4%BC%98%E5%8C%96**%EF%BC%9A%E6%94%AF%E6%8C%81NUMA%E7%9A%84%E5%A4%84%E7%90%86%E5%99%A8%E4%BC%9A%E8%A2%AB%E5%88%92%E5%88%86%E4%B8%BA%E5%A4%9A%E4%B8%AAnode%EF%BC%8C%E6%AF%8F%E4%B8%AAnode%E9%83%BD%E6%9C%89%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%AC%E5%9C%B0%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E3%80%82NUMA%E4%BC%98%E5%8C%96%EF%BC%8C%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E8%AE%A9CPU%E5%B0%BD%E5%8F%AF%E8%83%BD%E5%8F%AA%E8%AE%BF%E9%97%AE%E6%9C%AC%E5%9C%B0%E5%86%85%E5%AD%98%E3%80%82%0A*%20**%E4%B8%AD%E6%96%AD%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1**%EF%BC%9A%E6%97%A0%E8%AE%BA%E6%98%AF%E8%BD%AF%E4%B8%AD%E6%96%AD%E8%BF%98%E6%98%AF%E7%A1%AC%E4%B8%AD%E6%96%AD%EF%BC%8C%E5%AE%83%E4%BB%AC%E7%9A%84%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F%E9%83%BD%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%80%97%E8%B4%B9%E5%A4%A7%E9%87%8F%E7%9A%84CPU%E3%80%82%E5%BC%80%E5%90%AFirqbalance%E6%9C%8D%E5%8A%A1%E6%88%96%E9%85%8D%E7%BD%AEsmp_affinity%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E6%8A%8A%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B%E8%87%AA%E5%8A%A8%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%88%B0%E5%A4%9A%E4%B8%AACPU%E4%B8%8A%E3%80%82%0A%0A%23%23%20%E5%86%85%E5%AD%98%0A%23%23%23%20%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%0A**%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84**%EF%BC%8C%E5%85%B6%E5%AE%9E%E5%B0%B1%E6%98%AF%E5%B0%86%60%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%60%E6%98%A0%E5%B0%84%E5%88%B0%60%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%60%E3%80%82%0A%E5%86%85%E6%A0%B8%E4%B8%BA%E6%AF%8F%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%BB%B4%E6%8A%A4%E4%B8%80%E5%BC%A0%E9%A1%B5%E8%A1%A8%EF%BC%8C%E8%AE%B0%E5%BD%95%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E5%A6%82%E5%9B%BE%EF%BC%9A%0A!%5Bfcfbe2f8eb7c6090d82bf93ecdc1f0b6.png%5D(en-resource%3A%2F%2Fdatabase%2F2239%3A1)%0A%0A**MMU**%E6%98%AFCPU%E7%9A%84%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E5%8D%95%E5%85%83%EF%BC%8C%E9%A1%B5%E8%A1%A8%E5%AD%98%E5%82%A8%E5%9C%A8MMU%E4%B8%AD%E3%80%82%0A%E5%BD%93%E8%BF%9B%E7%A8%8B%E8%AE%BF%E9%97%AE%E7%9A%84%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E5%9C%A8%E9%A1%B5%E8%A1%A8%E4%B8%AD%E6%89%BE%E4%B8%8D%E5%88%B0%E6%97%B6%EF%BC%8C%E7%B3%BB%E7%BB%9F%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E7%BC%BA%E9%A1%B5%E5%BC%82%E5%B8%B8%EF%BC%8C%E8%BF%9B%E5%85%A5%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E5%88%86%E9%85%8D%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E3%80%81%E6%9B%B4%E6%96%B0%E8%BF%9B%E7%A8%8B%E9%A1%B5%E8%A1%A8%EF%BC%8C%E6%9C%80%E5%90%8E%E8%BF%94%E5%9B%9E%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%EF%BC%8C%E6%81%A2%E5%A4%8D%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%E3%80%82%0A**TLB%EF%BC%88Translation%20Lookaside%20Buffer%EF%BC%8C%E8%BD%AC%E8%AF%91%E5%90%8Et%E5%A4%87%E7%BC%93%E5%86%B2%E5%99%A8%EF%BC%89**%EF%BC%8C%E6%98%AFMMU%E4%B8%AD%E9%A1%B5%E8%A1%A8%E7%9A%84%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98%E3%80%82%0AMMU%E8%A7%84%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%E7%9A%84%E6%9C%80%E5%B0%8F%E5%8D%95%E4%BD%8D%EF%BC%88%E9%A1%B5%EF%BC%89%E4%B8%BA4KB%E3%80%82%0A**%E5%A4%9A%E7%BA%A7%E9%A1%B5%E8%A1%A8**%E5%B0%B1%E6%98%AF%E6%8A%8A%E5%86%85%E5%AD%98%E5%88%86%E6%88%90%E5%8C%BA%E5%9D%97%E6%9D%A5%E7%AE%A1%E7%90%86%EF%BC%8C%E5%B0%86%E5%8E%9F%E6%9D%A5%E7%9A%84%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB%E6%94%B9%E6%88%90%E5%8C%BA%E5%9D%97%E7%B4%A2%E5%BC%95%E5%92%8C%E5%8C%BA%E5%9D%97%E5%86%85%E7%9A%84%E5%81%8F%E7%A7%BB%E3%80%82Linux%E7%94%A8%E5%9B%9B%E7%BA%A7%E9%A1%B5%E8%A1%A8%E6%9D%A5%E7%AE%A1%E7%90%86%E5%86%85%E5%AD%98%E9%A1%B5%EF%BC%8C%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E8%A2%AB%E5%88%86%E4%B8%BA5%E4%B8%AA%E9%83%A8%E5%88%86%EF%BC%8C%E5%89%8D4%E4%B8%AA%E8%A1%A8%E9%A1%B9%E7%94%A8%E4%BA%8E%E9%80%89%E6%8B%A9%E9%A1%B5%EF%BC%8C%E8%80%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E7%B4%A2%E5%BC%95%E8%A1%A8%E7%A4%BA%E9%A1%B5%E5%86%85%E5%81%8F%E7%A7%BB%E3%80%82%0A!%5Bb5c9179ac64eb5c7ca26448065728325.png%5D(en-resource%3A%2F%2Fdatabase%2F2241%3A1)%0A**%E5%A4%A7%E9%A1%B5%EF%BC%88HugePage%EF%BC%89**%E5%B0%B1%E6%98%AF%E6%AF%94%E6%99%AE%E9%80%9A%E9%A1%B5%E6%9B%B4%E5%A4%A7%E7%9A%84%E5%86%85%E5%AD%98%E5%9D%97%E3%80%82%0A%0A%23%23%23%20%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E5%88%86%E5%B8%83%0A32%E4%BD%8D%E7%B3%BB%E7%BB%9F%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E5%88%86%E5%B8%83%E5%9B%BE%EF%BC%9A%0A!%5B71a754523386cc75f4456a5eabc93c5d.png%5D(en-resource%3A%2F%2Fdatabase%2F2243%3A1)%0A%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E5%86%85%E5%AD%98%E5%88%86%E5%B8%83%EF%BC%9A%0A1.%20%60%E5%8F%AA%E8%AF%BB%E6%AE%B5%60%EF%BC%8C%E5%8C%85%E6%8B%AC%E4%BB%A3%E7%A0%81%E5%92%8C%E5%B8%B8%E9%87%8F%E7%AD%89%E3%80%82%0A2.%20%60%E6%95%B0%E6%8D%AE%E6%AE%B5%60%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%AD%89%E3%80%82%0A3.%20%60%E5%A0%86%60%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98%EF%BC%8C%E4%BB%8E%E4%BD%8E%E5%9C%B0%E5%9D%80%E5%BC%80%E5%A7%8B%E5%90%91%E4%B8%8A%E5%A2%9E%E9%95%BF%0A4.%20%60%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84%E6%AE%B5%60%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%8A%A8%E6%80%81%E5%BA%93%E3%80%81%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E7%AD%89%EF%BC%8C%E4%BB%8E%E9%AB%98%E5%9C%B0%E5%9D%80%E5%BC%80%E5%A7%8B%E5%90%91%E4%B8%8B%E5%A2%9E%E9%95%BF%E3%80%82%0A5.%20%60%E6%A0%88%60%EF%BC%8C%E5%8C%85%E6%8B%AC%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E5%92%8C%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E7%9A%84%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AD%89%E3%80%82%E6%A0%88%E5%A4%A7%E5%B0%8F%E6%98%AF%E5%9B%BA%E5%AE%9A%E7%9A%84%EF%BC%8C%E4%B8%80%E8%88%AC%E6%98%AF8MB%E3%80%82%0A%0A%23%23%23%20%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E4%B8%8E%E5%9B%9E%E6%94%B6%0Amalloc()%E6%98%AFC%E6%A0%87%E5%87%86%E5%BA%93%E6%8F%90%E4%BE%9B%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%87%BD%E6%95%B0%EF%BC%8C%E5%AF%B9%E5%BA%94%E5%88%B0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E6%9C%89%E4%B8%A4%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%9A%60brk()%60%E5%92%8C%60mmap()%60%E3%80%82%0A*%20%E5%B0%8F%E4%BA%8E128K%E7%9A%84%E5%86%85%E5%AD%98%EF%BC%8C%E4%BD%BF%E7%94%A8brk()%E6%9D%A5%E5%88%86%E9%85%8D%EF%BC%8C%E9%80%9A%E8%BF%87%E7%A7%BB%E5%8A%A8%60%E5%A0%86%60%E9%A1%B6%E7%9A%84%E4%BD%8D%E7%BD%AE%E6%9D%A5%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98%E3%80%82%E8%BF%99%E4%BA%9B%E5%86%85%E5%AD%98%E9%87%8A%E6%94%BE%E5%90%8E%E5%B9%B6%E4%B8%8D%E4%BC%9A%E7%AB%8B%E5%88%BB%E5%BD%92%E8%BF%98%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%80%8C%E6%98%AF%E8%A2%AB%E7%BC%93%E5%AD%98%E8%B5%B7%E6%9D%A5%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%B0%B1%E5%8F%AF%E4%BB%A5%E9%87%8D%E5%A4%8D%E4%BD%BF%E7%94%A8%E3%80%82%0A*%20%E5%A4%A7%E4%BA%8E128K%E7%9A%84%E5%86%85%E5%AD%98%EF%BC%8C%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84mmap()%E6%9D%A5%E5%88%86%E9%85%8D%EF%BC%8C%E5%9C%A8%60%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84%E6%AE%B5%60%E6%89%BE%E4%B8%80%E5%9D%97%E7%A9%BA%E9%97%B2m%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%87%BA%E5%8E%BB%E3%80%82%0A%0A%7C%20%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%20%7C%20%E4%BC%98%E7%82%B9%20%7C%20%E7%BC%BA%E7%82%B9%20%7C%0A%7C%20---%20%7C%20---%20%7C%20---%20%7C%0A%7C%20brk()%20%7C%20%E5%86%85%E5%AD%98%E9%87%8A%E6%94%BE%E5%90%8E%E4%BC%9A%E8%A2%AB%E7%BC%93%E5%AD%98%E8%B5%B7%E6%9D%A5%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%87%8D%E5%A4%8D%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%87%8F%E5%B0%91%E7%BC%BA%E9%A1%B5%E5%BC%82%E5%B8%B8%E7%9A%84%E5%8F%91%E7%94%9F%EF%BC%8C%E6%8F%90%E9%AB%98%E8%AE%BF%E9%97%AE%E6%95%88%E7%8E%87%20%7C%20%E7%94%B1%E4%BA%8E%E8%BF%99%E4%BA%9B%E5%86%85%E5%AD%98%E6%B2%A1%E6%9C%89%E5%BD%92%E8%BF%98%E7%B3%BB%E7%BB%9F%EF%BC%8C%E5%9C%A8%E5%86%85%E5%AD%98%E5%B7%A5%E4%BD%9C%E7%B9%81%E5%BF%99%E6%97%B6%EF%BC%8C%E9%A2%91%E7%B9%81%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%92%8C%E9%87%8A%E6%94%BE%E4%BC%9A%E9%80%A0%E6%88%90%E5%86%85%E5%AD%98%E7%A2%8E%E7%89%87%20%7C%0A%7C%20mmap()%20%7C%20%E5%86%85%E5%AD%98%E4%BC%9A%E5%9C%A8%E9%87%8A%E6%94%BE%E6%97%B6%E7%9B%B4%E6%8E%A5%E5%BD%92%E8%BF%98%E7%B3%BB%E7%BB%9F%20%7C%20%E6%AF%8F%E6%AC%A1mmapf%E9%83%BD%E4%BC%9A%E5%8F%91%E7%94%9F%E7%BC%BA%E9%A1%B5%E5%BC%82%E5%B8%B8%EF%BC%8C%E5%9C%A8%E5%86%85%E5%AD%98%E5%B7%A5%E4%BD%9C%E7%B9%81%E5%BF%99%E6%97%B6%EF%BC%8C%E9%A2%91%E7%B9%81%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%A4%A7%E9%87%8F%E7%9A%84%E7%BC%BA%E9%A1%B5%E5%BC%82%E5%B8%B8%EF%BC%8C%E4%BD%BF%E5%86%85%E6%A0%B8%E7%9A%84%E7%AE%A1%E7%90%86%E8%B4%9F%E6%8B%85%E5%A2%9E%E5%A4%A7%20%7C%0A%0A%E5%86%85%E5%AD%98%E7%B4%A7%E5%BC%A0%E6%97%B6%EF%BC%8C%E7%B3%BB%E7%BB%9F%E4%BC%9A%E9%80%9A%E8%BF%87%E4%BB%A5%E4%B8%8B%E4%B8%89%E7%A7%8D%E6%9C%BA%E5%88%B6%E6%9D%A5%E5%9B%9E%E6%94%B6%E5%86%85%E5%AD%98%EF%BC%9A%0A*%20%E5%9B%9E%E6%94%B6%E7%BC%93%E5%AD%98%EF%BC%8C%E6%AF%94%E5%A6%82%E4%BD%BF%E7%94%A8LRU%EF%BC%88Least%20Recently%20Used%EF%BC%89%E7%AE%97%E6%B3%95%EF%BC%8C%E5%9B%9E%E6%94%B6%E6%9C%80%E8%BF%91%E4%BD%BF%E7%94%A8%E6%9C%80%E5%B0%91%E7%9A%84%E5%86%85%E5%AD%98%E9%A1%B5%E9%9D%A2%EF%BC%9B%0A*%20%E5%9B%9E%E6%94%B6%E4%B8%8D%E5%B8%B8%E8%AE%BF%E9%97%AE%E7%9A%84%E5%86%85%E5%AD%98%EF%BC%8C%E6%8A%8A%E4%B8%8D%E5%B8%B8%E7%94%A8%E7%9A%84%E5%86%85%E5%AD%98%E9%80%9A%E8%BF%87%E4%BA%A4%E6%8D%A2%E5%88%86%E5%8C%BA%E7%9B%B4%E6%8E%A5%E5%86%99%E5%88%B0%E7%A3%81%E7%9B%98%E4%B8%AD%EF%BC%9B%0A*%20%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B%EF%BC%8C%E5%86%85%E5%AD%98%E7%B4%A7%E5%BC%A0%E6%97%B6%E7%B3%BB%E7%BB%9F%E8%BF%98%E4%BC%9A%E9%80%9A%E8%BF%87OOM%EF%BC%88Out%20Of%20Memory%EF%BC%89%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%9D%80%E6%8E%89%E5%8D%A0%E7%94%A8%E5%A4%A7%E9%87%8F%E5%86%85%E5%AD%98%E7%9A%84%E8%BF%9B%E7%A8%8B%E3%80%82%0A%0AOOM%E4%BC%9A%E4%BD%BF%E7%94%A8oom_score%EF%BC%88oom_score%E8%B6%8A%E5%A4%A7%E5%B0%B1%E8%B6%8A%E5%AE%B9%E6%98%93%E8%A2%AB%E6%9D%80%E6%AD%BB%EF%BC%89%E4%B8%BA%E6%AF%8F%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%E8%BF%9B%E8%A1%8C%E8%AF%84%E5%88%86%EF%BC%9A%0A*%20%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E6%B6%88%E8%80%97%E5%86%85%E5%AD%98%E8%B6%8A%E5%A4%A7%EF%BC%8Coom_score%E5%B0%B1%E8%B6%8A%E5%A4%A7%EF%BC%9B%0A*%20%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%E5%8D%A0%E7%94%A8CPU%E8%B6%8A%E5%A4%9A%EF%BC%8Coom_score%E5%B0%B1%E8%B6%8A%E5%B0%8F%E3%80%82%0A%0A%E7%AE%A1%E7%90%86%E5%91%98%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AE%BE%E7%BD%AE%E8%BF%9B%E7%A8%8B%E7%9A%84%2Fproc%2F%24%7Bpid%7D%2Foom_adj%EF%BC%8C%E4%BB%8E%E8%80%8C%E8%B0%83%E6%95%B4%E8%BF%9B%E7%A8%8B%E7%9A%84oom_score%E3%80%82oom_adj%E7%9A%84%E8%8C%83%E5%9B%B4%E6%98%AF%5B-17%2C%2015%5D%EF%BC%8C%E6%95%B0%E5%80%BC%E8%B6%8A%E5%A4%A7%E8%BF%9B%E7%A8%8B%E8%B6%8A%E5%AE%B9%E6%98%93%E8%A2%ABOOM%E6%9D%80%E6%AD%BB%EF%BC%8C%E6%95%B0%E5%80%BC%E8%B6%8A%E5%B0%8F%E8%BF%9B%E7%A8%8B%E8%B6%8A%E4%B8%8D%E5%AE%B9%E6%98%93%E8%A2%ABOOM%E6%9D%80%E6%AD%BB%EF%BC%8C%E5%85%B6%E4%B8%AD-17%E8%A1%A8%E7%A4%BA%E7%A6%81%E6%AD%A2OOM%E3%80%82%0A%0A%23%23%23%20%E6%9F%A5%E7%9C%8B%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%0Afree%EF%BC%9A%0A%60%60%60%0A%23%20%E6%B3%A8%E6%84%8F%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E7%9A%84%20free%20%E8%BE%93%E5%87%BA%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%9C%89%E6%89%80%E4%B8%8D%E5%90%8C%0A%24%20free%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20total%20%20%20%20%20%20%20%20used%20%20%20%20%20%20%20%20free%20%20%20%20%20%20shared%20%20buff%2Fcache%20%20%20available%0AMem%3A%20%20%20%20%20%20%20%208169348%20%20%20%20%20%20263524%20%20%20%20%206875352%20%20%20%20%20%20%20%20%20668%20%20%20%20%201030472%20%20%20%20%207611064%0ASwap%3A%20%20%20%20%20%20%20%20%20%20%20%20%200%20%20%20%20%20%20%20%20%20%20%200%20%20%20%20%20%20%20%20%20%20%200%0A%0Afree%E8%BE%93%E5%87%BA%E7%9A%84%E6%98%AF%E4%B8%80%E4%B8%AA%E8%A1%A8%E6%A0%BC%EF%BC%8C%E5%85%B6%E4%B8%AD%E6%95%B0%E5%80%BC%E9%83%BD%E9%BB%98%E8%AE%A4%E4%BB%A5%E5%AD%97%E8%8A%82%E4%B8%BA%E5%8D%95%E4%BD%8D%E3%80%82%0A%E7%AC%AC%E4%B8%80%E5%88%97%EF%BC%9Atotal%E6%98%AF%E6%80%BB%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%9B%0A%E7%AC%AC%E4%BA%8C%E5%88%97%EF%BC%9Aused%E6%98%AF%E5%B7%B2%E4%BD%BF%E7%94%A8%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E5%8C%85%E5%90%AB%E4%BA%86%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%EF%BC%9B%0A%E7%AC%AC%E4%B8%89%E5%88%97%EF%BC%9Afree%E6%98%AF%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%9B%0A%E7%AC%AC%E5%9B%9B%E5%88%97%EF%BC%9Ashared%E6%98%AF%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%9B%0A%E7%AC%AC%E4%BA%94%E5%88%97%EF%BC%9Abuff%2Fcache%E6%98%AF%E7%BC%93%E5%AD%98%E5%92%8C%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%9B%0A%E7%AC%AC%E5%85%AD%E5%88%97%EF%BC%9Aavailable%E6%98%AF%E6%96%B0%E8%BF%9B%E7%A8%8B%E5%8F%AF%E7%94%A8%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%9B%0A%60%60%60%0A%0Atop%EF%BC%9A%0A%60%60%60%0A%23%20%E6%8C%89%E4%B8%8B%20M%20%E5%88%87%E6%8D%A2%E5%88%B0%E5%86%85%E5%AD%98%E6%8E%92%E5%BA%8F%0A%24%20top%0A...%0AKiB%20Mem%20%3A%20%208169348%20total%2C%20%206871440%20free%2C%20%20%20267096%20used%2C%20%201030812%20buff%2Fcache%0AKiB%20Swap%3A%20%20%20%20%20%20%20%200%20total%2C%20%20%20%20%20%20%20%200%20free%2C%20%20%20%20%20%20%20%200%20used.%20%207607492%20avail%20Mem%0A%0A%0A%20%20PID%20USER%20%20%20%20%20%20PR%20%20NI%20%20%20%20VIRT%20%20%20%20RES%20%20%20%20SHR%20S%20%20%25CPU%20%25MEM%20%20%20%20%20TIME%2B%20COMMAND%0A%20%20430%20root%20%20%20%20%20%2019%20%20-1%20%20122360%20%2035588%20%2023748%20S%20%20%200.0%20%200.4%20%20%200%3A32.17%20systemd-journal%0A%201075%20root%20%20%20%20%20%2020%20%20%200%20%20771860%20%2022744%20%2011368%20S%20%20%200.0%20%200.3%20%20%200%3A38.89%20snapd%0A%201048%20root%20%20%20%20%20%2020%20%20%200%20%20170904%20%2017292%20%20%209488%20S%20%20%200.0%20%200.2%20%20%200%3A00.24%20networkd-dispat%0A%20%20%20%201%20root%20%20%20%20%20%2020%20%20%200%20%20%2078020%20%20%209156%20%20%206644%20S%20%20%200.0%20%200.1%20%20%200%3A22.92%20systemd%0A12376%20azure%20%20%20%20%2020%20%20%200%20%20%2076632%20%20%207456%20%20%206420%20S%20%20%200.0%20%200.1%20%20%200%3A00.01%20systemd%0A12374%20root%20%20%20%20%20%2020%20%20%200%20%20107984%20%20%207312%20%20%206304%20S%20%20%200.0%20%200.1%20%20%200%3A00.00%20sshd%0A...%0A%0AVIRT%E6%98%AF%E8%BF%9B%E7%A8%8B%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E5%8F%AA%E8%A6%81%E6%98%AF%E8%BF%9B%E7%A8%8B%E7%94%B3%E8%AF%B7%E8%BF%87%E7%9A%84%E5%86%85%E5%AD%98%EF%BC%8C%E5%8D%B3%E4%BE%BF%E8%BF%98%E6%B2%A1%E6%9C%89%E7%9C%9F%E6%AD%A3%E5%88%86%E9%85%8Dt%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%EF%BC%8C%E4%B9%9F%E4%BC%9A%E8%AE%A1%E7%AE%97%E5%9C%A8%E5%86%85%E3%80%82%0ARES%E6%98%AF%E5%B8%B8%E9%A9%BB%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%BF%9B%E7%A8%8B%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E7%9A%84%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%BD%86%E4%B8%8D%E5%8C%85%E6%8B%ACSwap%E5%92%8C%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E3%80%82%0ASHR%E6%98%AF%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E6%AF%94%E5%A6%82%E4%B8%8E%E5%85%B6%E4%BB%96%E8%BF%9B%E7%A8%8B%E5%85%B1%E5%90%8C%E4%BD%BF%E7%94%A8%E7%9A%84%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E3%80%81%E5%8A%A0%E8%BD%BD%E7%9A%84%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E4%BB%A5%E5%8F%8A%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%BB%A3%E7%A0%81%E6%AE%B5%E3%80%82%0A%25MEM%E6%98%AF%E8%BF%9B%E7%A8%8B%E4%BD%BF%E7%94%A8%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E7%B3%BB%E7%BB%9F%E6%80%BB%E5%86%85%E5%AD%98%E7%9A%84%E7%99%BE%E5%88%86%E6%AF%94%E3%80%82%0A%60%60%60%0A%0A**Buffer**%E6%98%AF%E5%AF%B9%E7%A3%81%E7%9B%98%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BC%93%E5%AD%98%EF%BC%8C%E8%80%8C**Cache**%E6%98%AF%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E7%9A%84%E7%BC%93%E5%AD%98%EF%BC%8C%E5%AE%83%E4%BB%AC%E6%97%A2%E4%BC%9A%E7%94%A8%E5%9C%A8%E8%AF%BB%E8%AF%B7%E6%B1%82%E4%B8%AD%EF%BC%8C%E4%B9%9F%E4%BC%9A%E7%94%A8%E5%9C%A8%E5%86%99%E8%AF%B7%E6%B1%82%E4%B8%AD%E3%80%82%0A*%20%60Buffer%60%E6%97%A2%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BD%9C%E2%80%9C%E5%B0%86%E8%A6%81%E5%86%99%E5%85%A5%E7%A3%81%E7%9B%98%E6%95%B0%E6%8D%AE%E7%9A%84%E7%BC%93%E5%AD%98%E2%80%9D%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BD%9C%E2%80%9C%E4%BB%8E%E7%A3%81%E7%9B%98%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E7%9A%84%E7%BC%93%E5%AD%98%E2%80%9D%E3%80%82%0A*%20%60Cache%60%E6%97%A2%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BD%9C%E2%80%9C%E4%BB%8E%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E7%9A%84%E9%A1%B5%E7%BC%93%E5%AD%98%E2%80%9D%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BD%9C%E2%80%9C%E5%86%99%E6%96%87%E4%BB%B6%E7%9A%84%E9%A1%B5%E7%BC%93%E5%AD%98%E2%80%9D%E3%80%82%0A%0A**%E7%BC%93%E5%AD%98%E5%91%BD%E4%B8%AD%E7%8E%87**%EF%BC%8C%E6%98%AF%E6%8C%87%E7%9B%B4%E6%8E%A5%E9%80%9A%E8%BF%87%E7%BC%93%E5%AD%98%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E7%9A%84%E8%AF%B7%E6%B1%82%E6%AC%A1%E6%95%B0%EF%BC%8C%E5%8D%A0%E6%89%80%E6%9C%89%E8%AF%B7%E6%B1%82%E6%AC%A1%E6%95%B0%E7%9A%84%E7%99%BE%E5%88%86%E6%AF%94%E3%80%82%E5%91%BD%E4%B8%AD%E7%8E%87%E8%B6%8A%E9%AB%98%EF%BC%8C%E8%A1%A8%E7%A4%BA%E4%BD%BF%E7%94%A8%E7%BC%93%E5%AD%98%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%94%B6%E7%9B%8A%E8%B6%8A%E9%AB%98%EF%BC%8C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%80%A7%E8%83%BD%E4%B9%9F%E5%B0%B1%E8%B6%8A%E5%A5%BD%E3%80%82%0A%0Acachestat%E6%8F%90%E4%BE%9B%E4%BA%86%E6%95%B4%E4%B8%AA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BC%93%E5%AD%98%E7%9A%84%E8%AF%BB%E5%86%99%E5%91%BD%E4%B8%AD%E6%83%85%E5%86%B5%EF%BC%9A%0A%60%60%60%0A%24%20cachestat%201%203%0A%20%20%20TOTAL%20%20%20MISSES%20%20%20%20%20HITS%20%20DIRTIES%20%20%20BUFFERS_MB%20%20CACHED_MB%0A%20%20%20%20%20%20%202%20%20%20%20%20%20%20%200%20%20%20%20%20%20%20%202%20%20%20%20%20%20%20%201%20%20%20%20%20%20%20%20%20%20%2017%20%20%20%20%20%20%20%20279%0A%20%20%20%20%20%20%202%20%20%20%20%20%20%20%200%20%20%20%20%20%20%20%202%20%20%20%20%20%20%20%201%20%20%20%20%20%20%20%20%20%20%2017%20%20%20%20%20%20%20%20279%0A%20%20%20%20%20%20%202%20%20%20%20%20%20%20%200%20%20%20%20%20%20%20%202%20%20%20%20%20%20%20%201%20%20%20%20%20%20%20%20%20%20%2017%20%20%20%20%20%20%20%20279%20%0A%0ATOGAL%EF%BC%8C%E8%A1%A8%E7%A4%BA%E6%80%BB%E7%9A%84I%2FO%E6%AC%A1%E6%95%B0%EF%BC%9B%0AMISSES%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%BC%93%E5%AD%98%E6%9C%AA%E5%91%BD%E4%B8%AD%E7%9A%84%E6%AC%A1%E6%95%B0%EF%BC%9B%0AHITS%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%BC%93%E5%AD%98%E5%91%BD%E4%B8%AD%E7%9A%84%E6%AC%A1%E6%95%B0%EF%BC%9B%0ADIRTIES%EF%BC%8C%E8%A1%A8%E7%A4%BA%E6%96%B0%E5%A2%9E%E5%88%B0%E7%BC%93%E5%AD%98%E4%B8%AD%E7%9A%84%E8%84%8F%E9%A1%B5%E6%95%B0%EF%BC%9B%0ABUFFERS_MB%E8%A1%A8%E7%A4%BABuffers%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%BB%A5MB%E4%B8%BA%E5%8D%95%E4%BD%8D%EF%BC%9B%0ACACHED_MB%E8%A1%A8%E7%A4%BACache%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%8C%E4%BB%A5MB%E4%B8%BA%E5%8D%95%E4%BD%8D%E3%80%82%0A%60%60%60%0Acachetop%E6%8F%90%E4%BE%9B%E4%BA%86%E6%AF%8F%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%BC%93%E5%AD%98%E5%91%BD%E4%B8%AD%E6%83%85%E5%86%B5%EF%BC%9A%0A%60%60%60%0A%24%20cachetop%0A11%3A58%3A50%20Buffers%20MB%3A%20258%20%2F%20Cached%20MB%3A%20347%20%2F%20Sort%3A%20HITS%20%2F%20Order%3A%20ascending%0APID%20%20%20%20%20%20UID%20%20%20%20%20%20CMD%20%20%20%20%20%20%20%20%20%20%20%20%20%20HITS%20%20%20%20%20MISSES%20%20%20DIRTIES%20%20READ_HIT%25%20%20WRITE_HIT%25%0A%20%20%2013029%20root%20%20%20%20%20python%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%201%20%20%20%20%20%20%20%200%20%20%20%20%20%20%20%200%20%20%20%20%20100.0%25%20%20%20%20%20%20%200.0%25%0A%0AHITS%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%BC%93%E5%AD%98%E5%91%BD%E4%B8%AD%E7%9A%84%E6%AC%A1%E6%95%B0%EF%BC%9B%0AMISSES%EF%BC%8C%E8%A1%A8%E7%A4%BA%E7%BC%93%E5%AD%98%E6%9C%AA%E5%91%BD%E4%B8%AD%E7%9A%84%E6%AC%A1%E6%95%B0%EF%BC%9B%0ADIRTIES%EF%BC%8C%E8%A1%A8%E7%A4%BA%E6%96%B0%E5%A2%9E%E5%88%B0%E7%BC%93%E5%AD%98%E4%B8%AD%E7%9A%84%E8%84%8F%E9%A1%B5%E6%95%B0%EF%BC%9B%0AREAD_HIT%EF%BC%8C%E8%A1%A8%E7%A4%BA%E8%AF%BB%E7%9A%84%E7%BC%93%E5%AD%98%E5%91%BD%E4%B8%AD%E7%8E%87%EF%BC%9B%0AWRITE_HIT%EF%BC%8C%E8%A1%A8%E7%A4%BA%E5%86%99%E7%9A%84%E7%BC%93%E5%AD%98%E5%91%BD%E4%B8%AD%E7%8E%87%E3%80%82%0A%60%60%60%0Apcstat%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E7%BC%93%E5%AD%98%E5%A4%A7%E5%B0%8F%EF%BC%9A%0A%60%60%60%0A%24%20pcstat%20%2Fbin%2Fls%0A%2B---------%2B----------------%2B------------%2B-----------%2B---------%2B%0A%7C%20Name%20%20%20%20%7C%20Size%20(bytes)%20%20%20%7C%20Pages%20%20%20%20%20%20%7C%20Cached%20%20%20%20%7C%20Percent%20%7C%0A%7C---------%2B----------------%2B------------%2B-----------%2B---------%7C%0A%7C%20%2Fbin%2Fls%20%7C%20133792%20%20%20%20%20%20%20%20%20%7C%2033%20%20%20%20%20%20%20%20%20%7C%200%20%20%20%20%20%20%20%20%20%7C%20000.000%20%7C%0A%2B---------%2B----------------%2B------------%2B-----------%2B---------%2B%0A%0A%60%60%60%0A%0A%60%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%60%E7%9A%84%E5%8D%B1%E5%AE%B3%E9%9D%9E%E5%B8%B8%E5%A4%A7%EF%BC%8C%E8%BF%99%E4%BA%9B%E5%BF%98%E8%AE%B0%E9%87%8A%E6%94%BE%E7%9A%84%E5%86%85%E5%AD%98%EF%BC%8C%E4%B8%8D%E4%BB%85%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%B7%B1%E4%B8%8D%E8%83%BD%E8%AE%BF%E9%97%AE%EF%BC%8C%E7%B3%BB%E7%BB%9F%E4%B9%9F%E4%B8%8D%E8%83%BD%E6%8A%8A%E5%AE%83%E4%BB%AC%E5%86%8D%E6%AC%A1%E5%88%86%E9%85%8D%E7%BB%99%E5%85%B6%E4%BB%96%E5%BA%94%E7%94%A8%E3%80%82%0A%0A%23%23%23%20Swap%0A**%E6%96%87%E4%BB%B6%E9%A1%B5**%EF%BC%8C%E7%BC%93%E5%86%B2%EF%BC%88cache%EF%BC%89%E5%92%8C%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%88buffer%EF%BC%89%E5%9C%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E4%B8%AD%E8%A2%AB%E5%8F%AB%E5%81%9A%60%E6%96%87%E4%BB%B6%E9%A1%B5%60%E3%80%82%0A**%E8%84%8F%E9%A1%B5**%EF%BC%8C%E8%A2%AB%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BF%AE%E6%94%B9%E8%BF%87%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%9A%82%E6%97%B6%E8%BF%98%E6%B2%A1%E5%86%99%E5%85%A5%E7%A3%81%E7%9B%98%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82%0A%E8%84%8F%E9%A1%B5%E5%86%99%E5%85%A5%E7%A3%81%E7%9B%98%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9A%0A*%20%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%EF%BC%8C%E9%80%9A%E8%BF%87%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%60fsync%60%EF%BC%8C%E6%8A%8A%E8%84%8F%E9%A1%B5%E5%90%8C%E6%AD%A5%E5%88%B0%E7%A3%81%E7%9B%98%E4%B8%AD%EF%BC%9B%0A*%20%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BA%A4%E7%BB%99%E7%B3%BB%E7%BB%9F%EF%BC%8C%E7%94%B1%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%60pdflush%60%E8%B4%9F%E8%B4%A3%E8%BF%99%E4%BA%9B%E8%84%8F%E9%A1%B5%E7%9A%84%E5%88%B7%E6%96%B0%E3%80%82%0A%0A**%E5%8C%BF%E5%90%8D%E9%A1%B5%EF%BC%88Anonymous%20Page%EF%BC%89**%EF%BC%8C%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D%E7%9A%84%E5%86%85%E5%AD%98%EF%BC%8C%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E4%B8%AD%E8%A2%AB%E5%8F%AB%E5%81%9A%60%E5%8C%BF%E5%90%8D%E9%A1%B5%60%E3%80%82%0A**%E7%9B%B4%E6%8E%A5%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6**%EF%BC%8C%E6%9C%89%E6%96%B0%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E8%AF%B7%E6%B1%82%EF%BC%8C%E4%BD%86%E6%98%AF%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E4%B8%8D%E8%B6%B3%EF%BC%8C%E8%BF%99%E6%97%B6%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E5%9B%9E%E6%94%B6%E4%B8%80%E9%83%A8%E5%88%86%E5%86%85%E5%AD%98%EF%BC%88%E6%AF%94%E5%A6%82%E5%89%8D%E9%9D%A2%E6%8F%90%E5%88%B0%E7%9A%84%E7%BC%93%E5%AD%98%EF%BC%89%EF%BC%8C%E8%BF%9B%E8%80%8C%E5%B0%BD%E5%8F%AF%E8%83%BD%E5%9C%B0%E6%BB%A1%E8%B6%B3%E6%96%B0%E5%86%85%E5%AD%98%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BF%87%E7%A8%8B%E3%80%82%0A**%E5%AE%9A%E6%9C%9F%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6**%EF%BC%8C%E5%86%85%E6%A0%B8%E7%BA%BF%E7%A8%8B%EF%BC%88%60kswapd0%60%EF%BC%89%E5%AE%9A%E6%9C%9F%E6%89%AB%E6%8F%8F%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%8C%E5%B9%B6%E6%A0%B9%E6%8D%AE%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E8%90%BD%E5%9C%A8%E4%B8%89%E4%B8%AA%E9%98%88%E5%80%BC%E7%9A%84%E7%A9%BA%E9%97%B4%E4%BD%8D%E7%BD%AE%EF%BC%8C%E8%BF%9B%E8%A1%8C%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6%E6%93%8D%E4%BD%9C%E3%80%82%0A%60kswapd0%60%E5%AE%9A%E4%B9%89%E4%B8%89%E4%B8%AA%E5%86%85%E5%AD%98%E9%98%88%E5%80%BC%EF%BC%88watermark%EF%BC%8C%E4%B9%9F%E7%A7%B0%E6%B0%B4%E4%BD%8D%EF%BC%89%EF%BC%8C%E5%88%86%E5%88%AB%E6%98%AF%60%E9%A1%B5%E6%9C%80%E5%B0%8F%E9%98%88%E5%80%BC%EF%BC%88pages_min%EF%BC%89%60%E3%80%81%60%E9%A1%B5%E4%BD%8E%E9%98%88%E5%80%BC%EF%BC%88pages_low%EF%BC%89%60%E5%92%8C%60%E9%A1%B5%E9%AB%98%E9%98%88%E5%80%BC%EF%BC%88pages_high%EF%BC%89%60%E3%80%82%0A!%5Bc1054f1e71037795c6f290e670b29120.png%5D(en-resource%3A%2F%2Fdatabase%2F2249%3A1)%0A*%20%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E5%B0%8F%E4%BA%8E%60%E9%A1%B5%E6%9C%80%E5%B0%8F%E9%98%88%E5%80%BC%60%EF%BC%8C%E8%AF%B4%E6%98%8E%E8%BF%9B%E7%A8%8B%E5%8F%AF%E7%94%A8%E5%86%85%E5%AD%98%E9%83%BD%E8%80%97%E5%B0%BD%E4%BA%86%EF%BC%8C%E5%8F%AA%E6%9C%89%E5%86%85%E6%A0%B8%E6%89%8D%E5%8F%AF%E4%BB%A5%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98%E3%80%82%0A*%20%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E8%90%BD%E5%9C%A8%60%E9%A1%B5%E6%9C%80%E5%B0%8F%E9%98%88%E5%80%BC%60%E5%92%8C%60%E9%A1%B5%E4%BD%8E%E9%98%88%E5%80%BC%60%E4%B8%AD%E9%97%B4%EF%BC%8C%E8%AF%B4%E6%98%8E%E5%86%85%E5%AD%98%E5%8E%8B%E5%8A%9B%E6%AF%94%E8%BE%83%E5%A4%A7%EF%BC%8C%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E4%B8%8D%E5%A4%9A%E4%BA%86%E3%80%82%E8%BF%99%E6%97%B6%60kswapd0%60%E4%BC%9A%E6%89%A7%E8%A1%8C%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6%EF%BC%8C%E7%9B%B4%E5%88%B0%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E5%A4%A7%E4%BA%8E%60%E9%A1%B5%E9%AB%98%E9%98%88%E5%80%BC%60%E4%B8%BA%E6%AD%A2%E3%80%82%0A*%20%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E8%90%BD%E5%9C%A8%60%E9%A1%B5%E4%BD%8E%E9%98%88%E5%80%BC%60%E5%92%8C%60%E9%A1%B5%E9%AB%98%E9%98%88%E5%80%BC%60%E4%B8%AD%E9%97%B4%EF%BC%8C%E8%AF%B4%E6%98%8E%E5%86%85%E5%AD%98%E6%9C%89%E4%B8%80%E5%AE%9A%E5%8E%8B%E5%8A%9B%EF%BC%8C%E4%BD%86%E8%BF%98%E5%8F%AF%E4%BB%A5%E6%BB%A1%E8%B6%B3%E6%96%B0%E5%86%85%E5%AD%98%E8%AF%B7%E6%B1%82%E3%80%82%0A*%20%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E5%A4%A7%E4%BA%8E%60%E9%A1%B5%E9%AB%98%E9%98%88%E5%80%BC%60%EF%BC%8C%E8%AF%B4%E6%98%8E%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E6%AF%94%E8%BE%83%E5%A4%9A%EF%BC%8C%E6%B2%A1%E6%9C%89%E5%86%85%E5%AD%98%E5%8E%8B%E5%8A%9B%E3%80%82%0A%0A%3E%20%E9%A1%B5%E6%9C%80%E5%B0%8F%E9%98%88%E5%80%BC%E9%80%9A%E8%BF%87%E5%86%85%E6%A0%B8%E9%80%89%E9%A1%B9%60%2Fproc%2Fsys%2Fvm%2Fmin_free_kbytes%60%E6%9D%A5%E9%97%B4%E6%8E%A5%E8%AE%BE%E7%BD%AE%E3%80%82%E5%85%B6%E4%BB%96%E4%B8%A4%E4%B8%AA%E9%98%88%E5%80%BC%E9%83%BD%E6%98%AF%E6%A0%B9%E6%8D%AE%E9%A1%B5%E6%9C%80%E5%B0%8F%E9%98%88%E5%80%BC%E8%AE%A1%E7%AE%97%E7%94%9F%E6%88%90%E7%9A%84%EF%BC%9Apages_low%20%3D%20pages_min%5C*5%2F4%EF%BC%8Cpages_high%20%3D%20pages_min%5C*3%2F2%E3%80%82%0A%0A%60NUMA%EF%BC%88Non-Uniform%20Memory%20Access%EF%BC%89%60%E6%9E%B6%E6%9E%84%E4%B8%8B%EF%BC%8C%E5%A4%9A%E4%B8%AA%E5%A4%84%E7%90%86%E5%99%A8%E8%A2%AB%E5%88%92%E5%88%86%E5%88%B0%E4%B8%8D%E5%90%8C%E7%9A%84Node%E4%B8%8A%EF%BC%8C%E4%B8%94%E6%AF%8F%E4%B8%AANode%E9%83%BD%E6%8B%A5%E6%9C%89%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%AC%E5%9C%B0%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E3%80%82%60%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90%E6%97%B6%E5%BA%94%E8%AF%A5%E5%AF%B9%E6%AF%8F%E4%B8%AANode%E5%8D%95%E7%8B%AC%E5%88%86%E6%9E%90%60%E3%80%82%0Anumactl%E5%91%BD%E4%BB%A4%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B%E5%A4%84%E7%90%86%E5%99%A8%E5%9C%A8Node%E7%9A%84%E5%88%86%E5%B8%83%E6%83%85%E5%86%B5%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%AF%8F%E4%B8%AANoder%E7%9A%84%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%9A%0A%60%60%60%0A%24%20numactl%20--hardware%0Aavailable%3A%201%20nodes%20(0)%0Anode%200%20cpus%3A%200%201%0Anode%200%20size%3A%207977%20MB%0Anode%200%20free%3A%204416%20MB%0A...%0A%60%60%60%0A%E9%A1%B5%E6%9C%80%E5%B0%8F%E9%98%88%E5%80%BC%E3%80%81%E9%A1%B5%E4%BD%8E%E9%98%88%E5%80%BC%E5%92%8C%E9%A1%B5%E9%AB%98%E9%98%88%E5%80%BC%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%86%85%E5%AD%98%E5%9F%9F%E5%9C%A8proc%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E6%8E%A5%E5%8F%A3%60%2Fproc%2Fzoneinfo%60%E6%9D%A5%E6%9F%A5%E7%9C%8B%EF%BC%9A%0A%60%60%60%0A%24%20cat%20%2Fproc%2Fzoneinfo%0A...%0ANode%200%2C%20zone%20%20%20Normal%0A%20pages%20free%20%20%20%20%20227894%0A%20%20%20%20%20%20%20min%20%20%20%20%20%2014896%0A%20%20%20%20%20%20%20low%20%20%20%20%20%2018620%0A%20%20%20%20%20%20%20high%20%20%20%20%2022344%0A...%0A%20%20%20%20%20nr_free_pages%20227894%0A%20%20%20%20%20nr_zone_inactive_anon%2011082%0A%20%20%20%20%20nr_zone_active_anon%2014024%0A%20%20%20%20%20nr_zone_inactive_file%20539024%0A%20%20%20%20%20nr_zone_active_file%20923986%0A...%0A%0Apages%E5%A4%84%E7%9A%84min%E3%80%81low%E3%80%81high%EF%BC%8C%E5%B0%B1%E6%98%AF%E4%B8%8A%E9%9D%A2%E6%8F%90%E5%88%B0%E7%9A%84%E4%B8%89%E4%B8%AA%E5%86%85%E5%AD%98%E9%98%88%E5%80%BC%EF%BC%8C%E8%80%8Cfree%E6%98%AF%E5%89%A9%E4%BD%99%E5%86%85%E5%AD%98%E9%A1%B5%E6%95%B0%EF%BC%8C%E5%AE%83%E4%B8%8E%E5%90%8E%E9%9D%A2%E7%9A%84nr_free_pages%E7%9B%B8%E5%90%8C%E3%80%82%0Anr_zone_active_anon%E5%92%8Cnr_zone_inactive_anon%EF%BC%8C%E5%88%86%E5%88%AB%E6%98%AF%E6%B4%BB%E8%B7%83%E5%92%8C%E9%9D%9E%E6%B4%BB%E8%B7%83%E7%9A%84%E5%8C%BF%E5%90%8D%E9%A1%B5%E6%95%B0%E3%80%82%0Anr_zone_active_file%E5%92%8Cnr_zone_inactive_file%EF%BC%8C%E5%88%86%E5%88%AB%E6%98%AF%E6%B4%BB%E8%B7%83%E5%92%8C%E9%9D%9E%E6%B4%BB%E8%B7%83%E7%9A%84%E6%96%87%E4%BB%B6%E9%A1%B5%E6%95%B0%E3%80%82%0A%60%60%60%0ANUMA%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6%E7%AD%96%E7%95%A5%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%60%2Fproc%2Fsys%2Fvm%2Fzone_reclaim_mode%60%E6%9D%A5%E8%B0%83%E6%95%B4%EF%BC%9A%0A*%20%E9%BB%98%E8%AE%A4%E7%9A%840%EF%BC%8C%E8%A1%A8%E7%A4%BA%E6%97%A2%E5%8F%AF%E4%BB%A5%E4%BB%8E%E5%85%B6%E4%BB%96Node%E5%AF%BB%E6%89%BE%E7%A9%BA%E9%97%B2%E5%86%85%E5%AD%98%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BB%8E%E6%9C%AC%E5%9C%B0%E5%9B%9E%E6%94%B6%E5%86%85%E5%AD%98%E3%80%82%0A*%201%E3%80%812%E3%80%814%E9%83%BD%E8%A1%A8%E7%A4%BA%E5%8F%AA%E5%9B%9E%E6%94%B6%E6%9C%AC%E5%9C%B0%E5%86%85%E5%AD%98%EF%BC%8C2%E8%A1%A8%E7%A4%BA%E5%8F%AF%E4%BB%A5%E5%9B%9E%E5%86%99%E8%84%8F%E6%95%B0%E6%8D%AE%E5%9B%9E%E6%94%B6%E5%86%85%E5%AD%98%EF%BC%8C4%E8%A1%A8%E7%A4%BA%E5%8F%AF%E4%BB%A5%E7%94%A8swap%E6%96%B9%E5%BC%8F%E5%9B%9E%E6%94%B6%E5%86%85%E5%AD%98%E3%80%82%0A%0A%3E%20%E5%AF%B9%E6%96%87%E4%BB%B6%E9%A1%B5%E7%9A%84%E5%9B%9E%E6%94%B6%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%B8%85%E7%A9%BA%EF%BC%8C%E6%88%96%E8%80%85%E6%8A%8A%E8%84%8F%E6%95%B0%E6%8D%AE%E5%86%99%E5%9B%9E%E7%A3%81%E7%9B%98%E5%90%8E%E5%90%8C%E5%BF%97%E9%87%8A%E6%94%BE%E3%80%82%0A%3E%20%E5%AF%B9%E5%8C%BF%E5%90%8D%E9%A1%B5%E7%9A%84%E5%9B%9E%E6%94%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E9%80%9A%E8%BF%87swap%E6%8D%A2%E5%87%BA%E5%88%B0%E7%A3%81%E7%9B%98%E4%B8%AD%EF%BC%8C%E4%B8%8B%E6%AC%A1%E8%AE%BF%E9%97%AE%E6%97%B6%EF%BC%8C%E5%86%8D%E4%BB%8E%E7%A3%81%E7%9B%98%E4%B8%AD%E6%8D%A2%E5%85%A5%E5%88%B0%E5%86%85%E5%AD%98%E4%B8%AD%E3%80%82%0A%3E%20%E5%8F%AF%E4%BB%A5%E8%AE%BE%E7%BD%AE%60%2Fproc%2Fsys%2Fvm%2Fswappiness%60%EF%BC%8C%E6%9D%A5%E8%B0%83%E6%95%B4%E6%96%87%E4%BB%B6%E9%A1%B5%E5%92%8C%E5%8C%BF%E5%90%8D%E9%A1%B5%E7%9A%84%E5%9B%9E%E6%94%B6%E5%80%BE%E5%90%91%EF%BC%9Aswappiness%E7%9A%84%E8%8C%83%E5%9B%B4%E6%98%AF0-100%EF%BC%8C%E6%95%B0%E5%80%BC%E8%B6%8A%E5%A4%A7%EF%BC%8C%E8%B6%8A%E7%A7%AF%E6%9E%81%E4%BD%BF%E7%94%A8swap%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E6%9B%B4%E5%80%BE%E5%90%91%E4%BA%8E%E5%9B%9E%E6%94%B6%E5%8C%BF%E5%90%8D%E9%A1%B5%EF%BC%9B%E6%95%B0%E5%80%BC%E8%B6%8A%E5%B0%8F%EF%BC%8C%E8%B6%8A%E6%B6%88%E6%9E%81%E4%BD%BF%E7%94%A8swap%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E6%9B%B4%E5%80%BE%E5%90%91%E4%BA%8E%E5%9B%9E%E6%94%B6%E6%96%87%E4%BB%B6%E9%A1%B5%E3%80%82</center></span>
</div></body></html> 