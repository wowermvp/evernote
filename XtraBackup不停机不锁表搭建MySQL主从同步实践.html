<html>
<head>
  <title>XtraBackup不停机不锁表搭建MySQL主从同步实践</title>
  <basefont face="宋体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600718 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 宋体;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1349"/>
<h1>XtraBackup不停机不锁表搭建MySQL主从同步实践</h1>

<div><span><br/><div style="font-size: 16px"><div style="-webkit-margin-before:0px;-webkit-margin-after:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><div style="font-size:100%;-webkit-margin-before:0px;-webkit-margin-after:0px;font-weight:inherit;font-style:inherit;font-family:'Helvetica Neue', Helvetica, 'Microsoft YaHei', 'WenQuanYi Micro Hei', Arial, sans-serif;outline:0px;vertical-align:baseline;line-height:1.5;color:rgb(129, 124, 124);background:rgb(221, 221, 221);-webkit-box-orient:vertical;flex-direction:column;"><div style="-webkit-margin-before:0px;-webkit-margin-after:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;flex:1 1 0%;overflow:hidden;"><div style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-weight:inherit;font-style:inherit;outline:0px;font-size:100%;vertical-align:baseline;background:rgb(250, 250, 250);line-height:1.8;transition:margin 0.5s ease-out;"><div style="-webkit-margin-before:0px;-webkit-margin-after:0px;"><div style="-webkit-margin-before:0px;-webkit-margin-after:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:inherit;vertical-align:baseline;font-size:100%;color:rgb(65, 63, 63);"><span style="font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;color:rgb(65, 63, 63);display:block;clear:both;"></span>
		
		<div style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:0.8em;padding:1em;outline:0px;font-weight:inherit;margin:1.6em 0px 0px 2em;font-family:inherit;border:1px solid rgb(221, 221, 221);vertical-align:baseline;border-radius:4px;background:rgb(238, 238, 238);line-height:1.3em;float:right;">
			<strong style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;border:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;padding:0.3em 0px;font-weight:bold;">文章目录</strong>
		
			<ol style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;vertical-align:baseline;list-style:none;font-size:100%;padding:0px;"><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#前言" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">1.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">前言</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#更新历史" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">2.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">更新历史</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#原理" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">3.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">原理</span></a><ol style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-family:inherit;padding:0px;outline:0px;font-weight:inherit;margin:0px;border:0px;list-style:none;vertical-align:baseline;font-size:100%;padding-left:1.5em;padding-top:0px;"><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#MySQL主从同步原理" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">3.1.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">MySQL主从同步原理</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#XtraBackup备份原理" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">3.2.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">XtraBackup备份原理</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#XtraBackup的优点" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">3.3.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">XtraBackup的优点</span></a></li></ol></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#配置" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">4.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">配置</span></a><ol style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-family:inherit;padding:0px;outline:0px;font-weight:inherit;margin:0px;border:0px;list-style:none;vertical-align:baseline;font-size:100%;padding-left:1.5em;padding-top:0px;"><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#准备工作" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">4.1.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">准备工作</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#安装percona-xtrabackup" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">4.2.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">安装percona-xtrabackup</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#备份和恢复" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">4.3.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">备份和恢复</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#MySQL主从切换" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">4.4.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">MySQL主从切换</span></a></li><li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;margin:0.5em 0px;list-style-type:none;"><a href="https://wsgzao.github.io/post/xtrabackup/#常见问题" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">4.5.</span> <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;">常见问题</span></a></li></ol></li></ol>
		
		</div>
		
		<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;"><a href="https://i.v2ex.co/02ftb7pa.jpeg" rel="article0" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" title=""><img src="XtraBackup不停机不锁表搭建MySQL主从同步实践_files/02ftb7pa.jpeg" type="image/jpeg" data-filename="02ftb7pa.jpeg" alt="" height="580" style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-family:inherit;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-size:100%;border:none;vertical-align:middle;max-width:100%;height:auto;padding-top:0.7em;" width="562"/></a></p>
<h2 style="font-size:180%;-webkit-margin-before:0px;-webkit-margin-after:0px;line-height:1.2em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:inherit;margin:0px;vertical-align:baseline;border:0px;padding-bottom:0.3em;margin-top:1.5em;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:rgb(219, 219, 219);color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">前言</h2><p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">Percona XtraBackup可以说是一个相对完美的免费开源数据备份工具，支持在线无锁表同步复制和可并行高效率的安全备份恢复机制相比<code style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:90%;padding:0px 5px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px 2px;border:1px solid rgb(214, 214, 214);vertical-align:baseline;color:rgb(221, 17, 68);white-space:nowrap;text-shadow:rgb(255, 255, 255) 0px 1px;border-radius:0.25em;background:rgb(238, 238, 238);">mysqldump</code>来说确实让人眼前一亮，与<code style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:90%;padding:0px 5px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px 2px;border:1px solid rgb(214, 214, 214);vertical-align:baseline;color:rgb(221, 17, 68);white-space:nowrap;text-shadow:rgb(255, 255, 255) 0px 1px;border-radius:0.25em;background:rgb(238, 238, 238);">MySQL Enterprise Backup(InnoDB Hot Backup)</code>的功能对比可以参考扩展阅读。当然我们在实际运维过程中都应针对不同的业务需求分析和选择合适的备份恢复方案，这篇文章就是针对MySQL多实例且一个实例对应多个database的情况，实现MySQL在线不停机不锁表的主从同步，日后再继续更新分享基于<code style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:90%;padding:0px 5px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px 2px;border:1px solid rgb(214, 214, 214);vertical-align:baseline;color:rgb(221, 17, 68);white-space:nowrap;text-shadow:rgb(255, 255, 255) 0px 1px;border-radius:0.25em;background:rgb(238, 238, 238);">XtraBackup</code>的其它实用技能。</p>
<blockquote style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;border:0px;font-size:100%;margin:0.65em 0px 0.65em 1%;border-left-width:0.2em;border-left-style:solid;border-left-color:rgb(234, 103, 83);padding-left:1%;line-height:1.5;color:rgb(128, 128, 128);">
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">XtraBackup是目前首选的备份方案之一</p>
</blockquote>
<hr style="-webkit-margin-before:0px;-webkit-margin-after:0px;border:1px solid rgb(219, 219, 219);"/>
<h2 style="font-size:180%;-webkit-margin-before:0px;-webkit-margin-after:0px;line-height:1.2em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:inherit;margin:0px;vertical-align:baseline;border:0px;padding-bottom:0.3em;margin-top:1.5em;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:rgb(219, 219, 219);color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">更新历史</h2><p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">2015年08月07日 - 初稿</p>
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">阅读原文 - <a href="http://wsgzao.github.io/post/xtrabackup/" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">http://wsgzao.github.io/post/xtrabackup/</a></p>
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">扩展阅读</p>
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">Percona XtraBackup - <a href="https://www.percona.com/software/mysql-database/percona-xtrabackup" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">https://www.percona.com/software/mysql-database/percona-xtrabackup</a><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/>MySQL 5.6 Reference Manual :: 17 Replication - <a href="http://dev.mysql.com/doc/refman/5.6/en/replication.html" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">http://dev.mysql.com/doc/refman/5.6/en/replication.html</a><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/>基于Xtrabackup的物理备份解决方案预研 - <a href="http://tencentdba.com/blog/pre-research-on-physical-backup-using-xtrabakcup/" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">http://tencentdba.com/blog/pre-research-on-physical-backup-using-xtrabakcup/</a><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/>xtrabackup 详解 - <a href="http://www.cnblogs.com/gomysql/p/3650645.html" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">http://www.cnblogs.com/gomysql/p/3650645.html</a><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/>LTMP索引 - <a href="http://wsgzao.github.io/index/#LTMP" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">http://wsgzao.github.io/index/#LTMP</a></p>
<hr style="-webkit-margin-before:0px;-webkit-margin-after:0px;border:1px solid rgb(219, 219, 219);"/>
<h2 style="font-size:180%;-webkit-margin-before:0px;-webkit-margin-after:0px;line-height:1.2em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:inherit;margin:0px;vertical-align:baseline;border:0px;padding-bottom:0.3em;margin-top:1.5em;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:rgb(219, 219, 219);color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">原理</h2><h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">MySQL主从同步原理</h3><p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">MySQL主从同步是在MySQL主从复制(Master-Slave Replication)基础上实现的，通过设置在Master MySQL上的binlog(使其处于打开状态)，Slave MySQL上通过一个I/O线程从Master MySQL上读取binlog，然后传输到Slave MySQL的中继日志中，然后Slave MySQL的SQL线程从中继日志中读取中继日志，然后应用到Slave MySQL的数据库中。这样实现了主从数据同步功能。</p>
<h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">XtraBackup备份原理</h3><p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">innobackupex在后台线程不断追踪InnoDB的日志文件，然后复制InnoDB的数据文件。数据文件复制完成之后，日志的复制线程也会结束。这样就得到了不在同一时间点的数据副本和开始备份以后的事务日志。完成上面的步骤之后，就可以使用InnoDB崩溃恢复代码执行事务日志（redo log），以达到数据的一致性。<br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/>备份分为两个过程：</p>
<ol style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-family:inherit;padding:0px;outline:0px;font-weight:inherit;margin:0px;border:0px;list-style:none;vertical-align:baseline;font-size:100%;padding-left:1.5em;padding-top:0.7em;">
<li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;list-style-type:decimal;">backup，备份阶段，追踪事务日志和复制数据文件（物理备份）。</li>
<li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;list-style-type:decimal;">preparing，重放事务日志，使所有的数据处于同一个时间点，达到一致性状态。</li>
</ol>
<h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">XtraBackup的优点</h3><ol style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-family:inherit;padding:0px;outline:0px;font-weight:inherit;margin:0px;border:0px;list-style:none;vertical-align:baseline;font-size:100%;padding-left:1.5em;padding-top:0.7em;">
<li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;list-style-type:decimal;">可以快速可靠的完成数据备份（复制数据文件和追踪事务日志）</li>
<li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;list-style-type:decimal;">数据备份过程中不会中断事务的处理（热备份）</li>
<li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;list-style-type:decimal;">节约磁盘空间和网络带宽</li>
<li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;list-style-type:decimal;">自动完成备份鉴定</li>
<li style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;list-style-type:decimal;">因更快的恢复时间而提高在线时间</li>
</ol>
<h2 style="font-size:180%;-webkit-margin-before:0px;-webkit-margin-after:0px;line-height:1.2em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:inherit;margin:0px;vertical-align:baseline;border:0px;padding-bottom:0.3em;margin-top:1.5em;border-bottom-width:2px;border-bottom-style:solid;border-bottom-color:rgb(219, 219, 219);color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">配置</h2><h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">准备工作</h3><blockquote style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;border:0px;font-size:100%;margin:0.65em 0px 0.65em 1%;border-left-width:0.2em;border-left-style:solid;border-left-color:rgb(234, 103, 83);padding-left:1%;line-height:1.5;color:rgb(128, 128, 128);">
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">MySQL步骤和my.cnf配置参考LTMP - <a href="http://wsgzao.github.io/post/ltmp/" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">http://wsgzao.github.io/post/ltmp/</a></p>
</blockquote>
<div style="line-height:1.5;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0.5em 2%;color:rgb(204, 204, 204);margin:0.5em 0px;font-size:0.9em;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);overflow:auto;"><table style="border:0px;font-size:100%;font-style:inherit;font-variant:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:middle;padding:0px;font-weight:inherit;outline:0px;font-family:inherit;border-collapse:collapse;border-spacing:0px;max-width:100%;margin:0px;width:auto;"><tbody style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><tr style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-size:0.9em;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;margin:0px;border:none;background:rgb(45, 45, 45);word-wrap:break-word;border-radius:0.35em;line-height:1.5;color:rgb(102, 102, 102);text-align:right;padding-right:1.5em;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">1</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">2</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">3</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">4</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">5</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">6</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">7</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">8</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">9</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">10</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">11</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">12</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">13</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">14</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">15</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">16</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">17</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">18</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">19</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">20</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">21</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">22</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">23</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">24</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">25</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">26</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">27</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">28</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">29</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">30</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">31</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">32</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">33</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">34</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">35</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">36</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">37</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">38</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">39</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">40</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">41</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">42</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">43</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">44</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">45</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">46</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">47</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">48</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">49</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">50</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">51</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">52</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:0.9em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px;border:none;vertical-align:baseline;color:rgb(204, 204, 204);line-height:1.5;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#原有主数据库版本</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">mysql -V</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">mysql  Ver 14.14 Distrib 5.5.31, for Linux (x86_64) using readline 5.1</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#迁移从数据库版本</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">mysql -V</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">mysql  Ver 14.14 Distrib 5.6.25, for linux-glibc2.5 (x86_64) using  EditLine wrapper</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#检查数据库引擎</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">engines</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| Engine             | Support | Comment                                                        | Transactions | XA   | Savepoints |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">--------------------+---------+----------------------------------------------------------------+--------------+------+------------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#主从数据库同步注意点</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">[mysqld]</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#主从之间的id不能相同</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">server-id</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#启用二进制日志</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">log-bin</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#一般在从库开启（可选）</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">read_only</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#推荐使用InnoDB并做好相关配置</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#检查主从数据库状态</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">mysql -S /tmp/mysql.sock -e &quot;<span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">global</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">variables</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">like</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'server_id'</span>;</span>&quot;</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">---------------+-------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| Variable_name | Value |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">---------------+-------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| server_id     | 1     |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">---------------+-------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">mysql -S /tmp/mysql.sock -e &quot;<span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">global</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">variables</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">like</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'log_bin'</span>;</span>&quot;</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">---------------+-------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| Variable_name | Value |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">---------------+-------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| log_bin       | ON    |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">---------------+-------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td></tr></tbody></table></div>
<h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">安装percona-xtrabackup</h3><blockquote style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;border:0px;font-size:100%;margin:0.65em 0px 0.65em 1%;border-left-width:0.2em;border-left-style:solid;border-left-color:rgb(234, 103, 83);padding-left:1%;line-height:1.5;color:rgb(128, 128, 128);">
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">一般推荐rpm安装 - <a href="https://www.percona.com/downloads/XtraBackup/LATEST/" rel="external" style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;text-decoration:none;color:rgb(44, 166, 203);" target="_blank">https://www.percona.com/downloads/XtraBackup/LATEST/</a></p>
</blockquote>
<div style="line-height:1.5;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0.5em 2%;color:rgb(204, 204, 204);margin:0.5em 0px;font-size:0.9em;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);overflow:auto;"><table style="border:0px;font-size:100%;font-style:inherit;font-variant:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:middle;padding:0px;font-weight:inherit;outline:0px;font-family:inherit;border-collapse:collapse;border-spacing:0px;max-width:100%;margin:0px;width:auto;"><tbody style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><tr style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-size:0.9em;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;margin:0px;border:none;background:rgb(45, 45, 45);word-wrap:break-word;border-radius:0.35em;line-height:1.5;color:rgb(102, 102, 102);text-align:right;padding-right:1.5em;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">1</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">2</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">3</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:0.9em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px;border:none;vertical-align:baseline;color:rgb(204, 204, 204);line-height:1.5;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">yum -y install perl perl-devel libaio libaio-devel perl-Time-HiRes perl-DBD-MySQL</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">#rpm -ivh percona-xtrabackup-2.2.12-1.el6.x86_64.rpm </span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">rpm -Uvh percona-xtrabackup-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">2.2</span>.<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">12</span>-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">1</span>.el6.x86_64.rpm</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td></tr></tbody></table></div>
<h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">备份和恢复</h3><blockquote style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;border:0px;font-size:100%;margin:0.65em 0px 0.65em 1%;border-left-width:0.2em;border-left-style:solid;border-left-color:rgb(234, 103, 83);padding-left:1%;line-height:1.5;color:rgb(128, 128, 128);">
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">通常一般都直接使用innobackupex，因为它能同时备份InnoDB和MyISAM引擎的表<br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/>重点关注Slave_IO_Running和Slave_SQL_Runningd的状态是否为YES</p>
</blockquote>
<div style="line-height:1.5;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0.5em 2%;color:rgb(204, 204, 204);margin:0.5em 0px;font-size:0.9em;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);overflow:auto;"><table style="border:0px;font-size:100%;font-style:inherit;font-variant:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:middle;padding:0px;font-weight:inherit;outline:0px;font-family:inherit;border-collapse:collapse;border-spacing:0px;max-width:100%;margin:0px;width:auto;"><tbody style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><tr style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-size:0.9em;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;margin:0px;border:none;background:rgb(45, 45, 45);word-wrap:break-word;border-radius:0.35em;line-height:1.5;color:rgb(102, 102, 102);text-align:right;padding-right:1.5em;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">1</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">2</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">3</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">4</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">5</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">6</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">7</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">8</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">9</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">10</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">11</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">12</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">13</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">14</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">15</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">16</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">17</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">18</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">19</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">20</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">21</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">22</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">23</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">24</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">25</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">26</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">27</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">28</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">29</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">30</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">31</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">32</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">33</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">34</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">35</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">36</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">37</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">38</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">39</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">40</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">41</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">42</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">43</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">44</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">45</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">46</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">47</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">48</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">49</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">50</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">51</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">52</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">53</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">54</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:0.9em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px;border:none;vertical-align:baseline;color:rgb(204, 204, 204);line-height:1.5;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#备份</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">innobackupex <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">--socket=/usr/local/var/mysql2/mysql2.sock --user=root --password --defaults-file=/etc/mysqld_multi.cnf --parallel=4 --database=passport /tmp/backup</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#保持事务一致性</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">innobackupex <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">--socket=/usr/local/var/mysql2/mysql2.sock --user=root --password --defaults-file=/etc/mysqld_multi.cnf --database=passport --apply-log /tmp/backup/2015-08-05_16-08-14</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#传输</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">scp -r /tmp/<span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">backup</span>/<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">2015</span>-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">08</span>-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">05</span>_16-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">08</span>-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">14</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">10.10</span><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">.16</span><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">.24</span>:/tmp/<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">backup</span>/ </span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#恢复</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">innobackupex <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">--socket=/tmp/mysql.sock --user=root --password --defaults-file=/app/local/mysql/my.cnf --copy-back /tmp/backup/2015-08-05_16-08-14/</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#还原权限</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">chown -R mysql:mysql /app/<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">data</span>/mysql/<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">data</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">service mysqld <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">start</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">/app/<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">local</span>/mysql/scripts/mysql_install_db <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">--basedir=/app/local/mysql --datadir=/app/data/mysql/data --no-defaults --skip-name-resolve --user=mysql</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#主库授权同步帐号</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">SELECT</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">DISTINCT</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">CONCAT</span>(<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'User: '''</span>,<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">user</span>,<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'''@'''</span>,host,<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">''';'</span>) <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">AS</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">query</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">FROM</span> mysql.<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">user</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">GRANT</span> REPLICATION <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">SLAVE</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">ON</span> *.* <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">TO</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>@<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'10.10.16.24'</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">IDENTIFIED</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">BY</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">FLUSH</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">PRIVILEGES</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#从库开启同步</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">cat /tmp/<span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">backup</span>/<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">2015</span>-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">08</span>-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">05</span>_16-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">08</span>-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">14</span>/xtrabackup_binlog_info </span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">mysql-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">bin</span><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">.002599</span>    <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">804497686</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">CHANGE</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">MASTER</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">TO</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_HOST=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'10.10.16.51'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_USER=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_PASSWORD=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_PORT=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">3307</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_LOG_FILE=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'mysql-bin.002599'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_LOG_POS=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">804497686</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#开启主从同步</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">start</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#查看从库状态</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">status</span>\ G</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#从库的检查参数</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">Slave_IO_Running=Yes</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">Slave_SQL_Running=Yes</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#主库的检查参数</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">master</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">status</span> \G</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">------------------+-----------+--------------+------------------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| File             | <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">Position</span>  | Binlog_Do_DB | Binlog_Ignore_DB |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">------------------+-----------+--------------+------------------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">| mysql-<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">bin</span><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">.002600</span> | <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">454769337</span> |              |                  |</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">+<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 153, 153);">------------------+-----------+--------------+------------------+</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">1</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">row</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">in</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">set</span> (<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">0.00</span> sec)</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">processlist</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">Master has sent all binlog to slave; waiting for binlog to be updated</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td></tr></tbody></table></div>
<h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">MySQL主从切换</h3><blockquote style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;border:0px;font-size:100%;margin:0.65em 0px 0.65em 1%;border-left-width:0.2em;border-left-style:solid;border-left-color:rgb(234, 103, 83);padding-left:1%;line-height:1.5;color:rgb(128, 128, 128);">
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">切换前断开主库访问连接观察进程状态，无写操作后再停止从库IO_THREAD进行切换</p>
</blockquote>
<div style="line-height:1.5;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0.5em 2%;color:rgb(204, 204, 204);margin:0.5em 0px;font-size:0.9em;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);overflow:auto;"><table style="border:0px;font-size:100%;font-style:inherit;font-variant:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:middle;padding:0px;font-weight:inherit;outline:0px;font-family:inherit;border-collapse:collapse;border-spacing:0px;max-width:100%;margin:0px;width:auto;"><tbody style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><tr style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-size:0.9em;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;margin:0px;border:none;background:rgb(45, 45, 45);word-wrap:break-word;border-radius:0.35em;line-height:1.5;color:rgb(102, 102, 102);text-align:right;padding-right:1.5em;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">1</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">2</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">3</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">4</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">5</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">6</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">7</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">8</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">9</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">10</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">11</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">12</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">13</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">14</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">15</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">16</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">17</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">18</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">19</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">20</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">21</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">22</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">23</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">24</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">25</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">26</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">27</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">28</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">29</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">30</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">31</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">32</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">33</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">34</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">35</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">36</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">37</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">38</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">39</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">40</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">41</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">42</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">43</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:0.9em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px;border:none;vertical-align:baseline;color:rgb(204, 204, 204);line-height:1.5;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#查看主库状态</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">processlist</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">Master has sent all binlog to slave; waiting for binlog to be updated</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">master</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">status</span> \G</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#从库停止 IO_THREAD 线程</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">stop</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span> IO_THREAD;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">processlist</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">Slave has read all relay log; waiting for the slave I/O thread to <span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">update</span> it</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">status</span> \G</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#从库切换为主库</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">stop</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">reset</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">master</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">reset</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">all</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">master</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">status</span> \G</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#激活帐户</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">SELECT</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">DISTINCT</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">CONCAT</span>(<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'User: '''</span>,<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">user</span>,<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'''@'''</span>,host,<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">''';'</span>) <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">AS</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">query</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">FROM</span> mysql.<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">user</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">GRANT</span> REPLICATION <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">SLAVE</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">ON</span> *.* <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">TO</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>@<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'10.10.16.51'</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">IDENTIFIED</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">BY</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">FLUSH</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">PRIVILEGES</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#切换原有主库为从库</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">reset</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">master</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">reset</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">all</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">CHANGE</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">MASTER</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">TO</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_HOST=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'10.10.16.24'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_USER=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_PASSWORD=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'slave_passport'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_PORT=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">3306</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_LOG_FILE=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(153, 204, 153);">'mysql-bin.000001'</span>,</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">MASTER_LOG_POS=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">804497686</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#检查主库</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">SHOW</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">PROCESSLIST</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">master</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">status</span> \G</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#启动从库</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">SHOW</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">PROCESSLIST</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">start</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">show</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">status</span> \G</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td></tr></tbody></table></div>
<h3 style="font-style:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:140%;padding:0px;outline:0px;font-weight:inherit;margin:0px;font-family:inherit;border:0px;vertical-align:baseline;line-height:1em;margin-top:1.3em;color:rgb(51, 51, 51);-webkit-font-smoothing:antialiased;">常见问题</h3><blockquote style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;border:0px;font-size:100%;margin:0.65em 0px 0.65em 1%;border-left-width:0.2em;border-left-style:solid;border-left-color:rgb(234, 103, 83);padding-left:1%;line-height:1.5;color:rgb(128, 128, 128);">
<p style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;line-height:1.5;margin-top:1em;">Slave_SQL_Running:No</p>
</blockquote>
<div style="line-height:1.5;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0.5em 2%;color:rgb(204, 204, 204);margin:0.5em 0px;font-size:0.9em;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);overflow:auto;"><table style="border:0px;font-size:100%;font-style:inherit;font-variant:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:middle;padding:0px;font-weight:inherit;outline:0px;font-family:inherit;border-collapse:collapse;border-spacing:0px;max-width:100%;margin:0px;width:auto;"><tbody style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><tr style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-size:0.9em;-webkit-margin-before:0px;-webkit-margin-after:0px;vertical-align:baseline;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;margin:0px;border:none;background:rgb(45, 45, 45);word-wrap:break-word;border-radius:0.35em;line-height:1.5;color:rgb(102, 102, 102);text-align:right;padding-right:1.5em;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">1</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">2</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">3</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">4</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td><td style="font-family:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:100%;line-height:1.3em;outline:0px;font-weight:normal;font-style:inherit;margin:0px;border-bottom-color:rgb(219, 219, 219);vertical-align:middle;text-align:left;border-bottom-width:1px;border-bottom-style:solid;border:none;padding:0px;"><pre style="font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;-webkit-margin-before:0px;-webkit-margin-after:0px;font-size:0.9em;padding:0px;outline:0px;font-weight:inherit;font-style:inherit;margin:0px;border:none;vertical-align:baseline;color:rgb(204, 204, 204);line-height:1.5;border-radius:0.35em;word-wrap:break-word;background:rgb(45, 45, 45);"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;">#一般是事务回滚造成的</span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">stop</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">set</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">GLOBAL</span> SQL_SLAVE_SKIP_COUNTER=<span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(249, 145, 87);">1</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;height:20px;"><span style="outline:0px;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;margin:0px;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;"><span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">start</span> <span style="font-weight:inherit;-webkit-margin-before:0px;-webkit-margin-after:0px;padding:0px;border:0px;outline:0px;margin:0px;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;color:rgb(204, 153, 204);">slave</span>;</span></span><br style="-webkit-margin-before:0px;-webkit-margin-after:0px;"/></pre></td></tr></tbody></table></div>
  
	<span style="font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;color:rgb(65, 63, 63);display:block;clear:both;"></span></div></div></div></div></div></div></div><br/></span>
</div></body></html> 